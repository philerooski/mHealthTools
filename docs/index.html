<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>mhealthtools - Package for processing mobile sensor data and to extract meaningful features • mhealthtools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="mhealthtools - Package for processing mobile sensor data and to extract meaningful features">
<meta property="og:description" content="mHealthTools package processes data from various mobile sensors such as accelerometer, gyroscope,
    pedometer, screen touches, and microphones. Though this package is specifically designed around mHealth 
    applications developed by Sage Bionetwokrs, it works in general with any mobile sensors, provided the data 
    is supplied in a said format.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">mhealthtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/extending.html">Extending mhealthtools</a>
    </li>
    <li>
      <a href="articles/feature_definitions.html">Feature Definitions</a>
    </li>
    <li>
      <a href="articles/modules.html">Modules</a>
    </li>
    <li>
      <a href="articles/sensors.html">Sensors</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Sage-Bionetworks/mHealthTools">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="mhealthtools" class="section level2">
<h2 class="hasAnchor">
<a href="#mhealthtools" class="anchor"></a>mhealthtools</h2>
<p>An R package for extracting features from mobile and wearable sensor data.</p>
<div id="description" class="section level3">
<h3 class="hasAnchor">
<a href="#description" class="anchor"></a>Description</h3>
<p>mhealthtools processes raw data from various mobile and wearable sensors — such as accelerometer, gyroscope, touch screen, and camera — and outputs interpretable feature sets. Included with the package are feature extraction functions designed for activities used in <a href="http://sagebionetworks.org/digital-health-studies/">mHealth applications developed by Sage Bionetworks</a>, as well as general use functions that work with any activity using mobile and wearable sensors.</p>
</div>
<div id="installing" class="section level3">
<h3 class="hasAnchor">
<a href="#installing" class="anchor"></a>Installing</h3>
<p>Install the <code>mhealthtools</code> package using <code>devtools</code>:</p>
<pre><code><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">devtools::install_github("Sage-Bionetworks/mhealthtools")</a></code></pre>
<p>Install the package with the vignettes:</p>
<pre><code><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">devtools::install_github("Sage-Bionetworks/mhealthtools", build_vignettes = TRUE)</a></code></pre>
<p>Alternatively, you can use <a href="https://cloud.docker.com/repository/docker/philsnyder/mhealthtools">this Docker image</a> — based on <code>rocker/tidyverse:latest</code> — which comes with <code>mhealthtools</code> preinstalled.</p>
</div>
<div id="known-installation-issues" class="section level3">
<h3 class="hasAnchor">
<a href="#known-installation-issues" class="anchor"></a>Known Installation Issues</h3>
<p>A common issue on Linux systems when installing the <code>seewave</code> dependency is to be missing the system dependencies <code>libfftw3</code> and <code>libsndfile1</code>. In a shell, run:</p>
<pre><code>$ apt install libfftw3-3 libfftw3-dev libsndfile1 libsndfile1-dev</code></pre>
<p>to install these system dependencies, then retry the above <code>devtools</code> command.</p>
<p>If you are still having issues installing <code>seewave</code>, it may be necessary to also install the <code>rgl</code> library.</p>
<pre><code>$ apt install r-cran-rgl</code></pre>
<p>See the <code>seewave</code> <a href="http://rug.mnhn.fr/seewave/inst.html">installation page</a> for more info.</p>
</div>
<div id="usage" class="section level3">
<h3 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h3>
<p><img src="/paper/figure_one.png" alt="Modules diagram"></p>
<p>There are two broad types of modules included with mhealthtools: activity-level and sensor-level modules.</p>
<p>Activity-level modules, like <code>get_tremor_features</code> and <code>get_walk_features</code>, extract features from every sensor involved in that activity. For example, the two previously mentioned functions both return accelerometer and gyroscope features. These functions are useful for their convenience — we can share parameters since the feature extraction process is nearly identical between accelerometer and gyroscope sensors.</p>
<pre><code><a href="reference/get_tremor_features.html">get_tremor_features(accelerometer_data, gyroscope_data)</a></code></pre>
<p>Underneath the hood of activity-level modules operate sensor-level modules. These modules are designed to extract features from a single sensor. If you were to design a new activity, you could borrow the already implemented sensor-level modules to extract its features.</p>
<pre><code><a href="reference/gyroscope_features.html">gyroscope_features(gyroscope_data)</a></code></pre>
<p>Both activity-level and sensor-level modules allow you to include additional steps in the feature extraction pipeline by passing additional arguments to their respective functions. If passing only the input data, a default set of features will be extracted from the raw sensor measurements. But suppose you are working with accelerometer data and would like to detrend, filter frequencies from, and window the axial measurements, then compute measurements for jerk, velocity and displacement — all before extracting features from each measurement.</p>
<pre><code><a href="reference/accelerometer_features.html">accelerometer_features(
  sensor_data = accelerometer_data,
  detrend = TRUE,
  frequency_filter = c(1, 25),
  window_length = 256, # measured in number of samples
  window_overlap = 0.2,
  derived_kinematics = TRUE)</a></code></pre>
<p>If you omit the <code>funs</code> and <code>models</code> arguments, a default set of features will be computed. But you can, of course, provide your own feature extraction functions.</p>
<pre><code>my_features &lt;- function(x) {
  data.frame(
    "mean" = mean(x),
    "median" = median(x),
    "sd" = sd(x))
}

gyroscope_features(
  sensor_data = gyroscope_data,
  window_length = 256,
  window_overlap = 0.2,
  funs = my_features)</code></pre>
<p>At the moment, only accelerometer and gyroscope sensors have this powerful processing pipeline implemented. For sensors such as screen and camera, it is more complicated to provide a useful set of preprocessing and feature extraction functions that generalize well to varied activities. We provide two activity-level functions for these sensors (<code>get_heartrate</code> and <code>get_tapping_features</code>), but no functionality at the sensor level of granularity — at least not yet.</p>
<p>For more information on how to augment mhealthtools with your own functionality — including not just your own feature extraction functions, but also your own preprocessing/data-cleaning steps — we highly recommend reading the vignettes.</p>
</div>
<div id="getting-help" class="section level3">
<h3 class="hasAnchor">
<a href="#getting-help" class="anchor"></a>Getting Help</h3>
<p>If you have questions about using this package, there are a number of readily available resources. Vignettes are provided which demonstrate typical package use, how to extend the functionality of the provided functions, and feature definitions. Follow the installation instructions about installing the package with vignettes above and access the vignettes from within an R session:</p>
<pre><code><a href="https://rdrr.io/r/utils/browseVignettes.html">browseVignettes("mhealthtools")</a></code></pre>
<p>If you have questions about package usage that are not covered in the function docstrings or the vignettes, we encourage you to file an issue. If your question is not appropriate to be posted as a public issue, you may privately contact the package authors (<code>[aut]</code>) listed below.</p>
</div>
<div id="contributing-and-reporting-issues" class="section level3">
<h3 class="hasAnchor">
<a href="#contributing-and-reporting-issues" class="anchor"></a>Contributing and Reporting Issues</h3>
<p>To report an issue, please file a GitHub issue with the <a href="https://github.com/Sage-Bionetworks/mHealthTools">main repo</a>.</p>
<p>If you would like to contribute to mhealthtools, please file an issue so that we can establish a statement of need, avoid redundant work, and track progress on your contribution. Once an issue has been filed and we’ve identified how to best orient your contribution with package development as a whole, <a href="http://help.github.com/fork-a-repo/">fork</a> the <a href="https://github.com/Sage-Bionetworks/mHealthTools">main repo</a>, branch off a <a href="https://www.google.com/search?q=git+feature+branches">feature branch</a> from <code>develop</code>, <a href="http://git-scm.com/docs/git-commit">commit</a> and <a href="http://git-scm.com/docs/git-push">push</a> your changes to your fork and submit a <a href="http://help.github.com/send-pull-requests/">pull request</a> for <code>Sage-Bionetworks/mhealthtools:develop</code>.</p>
</div>
<div id="authors" class="section level3">
<h3 class="hasAnchor">
<a href="#authors" class="anchor"></a>Authors</h3>
<ul>
<li>Phil Snyder <a href="mailto:phil.snyder@sagebase.org" class="email">phil.snyder@sagebase.org</a> [aut, cre]</li>
<li>Meghasyam Tummalacherla <a href="mailto:meghasyam@sagebase.org" class="email">meghasyam@sagebase.org</a> [aut, ctb]</li>
<li>Thanneer Perumal <a href="mailto:thanneer.perumal@sagebase.org" class="email">thanneer.perumal@sagebase.org</a> [aut]</li>
<li>Abhishek Pratap <a href="mailto:apratap@sagebase.org" class="email">apratap@sagebase.org</a> [ctb]</li>
<li>Elias Chaibub Neto <a href="mailto:elias.chaibub.neto@sagebase.org" class="email">elias.chaibub.neto@sagebase.org</a> [ctb]</li>
</ul>
</div>
<div id="license" class="section level3">
<h3 class="hasAnchor">
<a href="#license" class="anchor"></a>License</h3>
<p>Apache License Version 2.0, January 2004</p>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/Sage-Bionetworks/mHealthTools">https://​github.com/​Sage-Bionetworks/​mHealthTools</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Phil Snyder <br><small class="roles"> Author, maintainer </small>  </li>
<li>Thanneer Perumal <br><small class="roles"> Author </small>  </li>
<li>Meghasyam Tummalacherla <br><small class="roles"> Author, contributor </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/Sage-Bionetworks/mhealthtools"><img src="https://travis-ci.org/Sage-Bionetworks/mhealthtools.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://codecov.io/gh/Sage-Bionetworks/mhealthtools"><img src="https://codecov.io/gh/Sage-Bionetworks/mhealthtools/branch/master/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Phil Snyder, Thanneer Perumal, Meghasyam Tummalacherla.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
