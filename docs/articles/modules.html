<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modules • mhealthtools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Modules">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mhealthtools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/extending.html">Extending mhealthtools</a>
    </li>
    <li>
      <a href="../articles/feature_definitions.html">Feature Definitions</a>
    </li>
    <li>
      <a href="../articles/modules.html">Modules</a>
    </li>
    <li>
      <a href="../articles/sensors.html">Sensors</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Sage-Bionetworks/mHealthTools">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Modules</h1>
                        <h4 class="author">Meghasyam Tummalacherla</h4>
            
            <h4 class="date">2020-02-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Sage-Bionetworks/mHealthTools/blob/master/vignettes/modules.Rmd"><code>vignettes/modules.Rmd</code></a></small>
      <div class="hidden name"><code>modules.Rmd</code></div>

    </div>

    
    
<p><code>mhealthtools</code> was built to help people study the physiological symptoms that can be tracked through the sensors of the modern day smartphone. This can be the tremor in your hand using the accelerometer and gyroscope sensors while holding the phone in your hand; or Bradykinesia and Dyskinesia through the acceleremeter and gyroscope sensors while having the phone in the front pocket of your pants as you walk; or heartrate using the camera with your finger against it. Whatever the experiment design (activity), if it uses smartphone sensors, you can use <code>mhealthtools</code> to extract useful and sometimes physiologically meaningful features.</p>
<p>Here we describe the use of <code>mhealthtools</code> for certain modules, that are taken from the <a href="https://parkinsonmpower.org/">mPower study</a> run by Sage Bionetworks. For further reading please refer to the <a href="https://www.nature.com/articles/sdata201611">article published in nature</a>.</p>
<p>Let’s load the package before we proceed</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(mhealthtools)</a></code></pre></div>
<div id="walk-module" class="section level3">
<h3 class="hasAnchor">
<a href="#walk-module" class="anchor"></a>Walk Module</h3>
<p>In this activity, the participant is asked to keep the phone in his/her pants’ front pocket (if not in the waistband of the pants) and then walk in a straight line for some fixed amount of time (e.g. 30s). For someone with Parkinson’s we expect to see symptoms of Dyskinesia and Bradykinesia.</p>
<p>The features extracted from <code>get_walk_features</code> do capture to some extent the effects of those symptoms. In the default processing, the signal is broken down into two IMFs (Intrinsic Mode Functions) using the Hilbert Huang Transform before being analyzed.</p>
<p><code>mhealthtools</code> comes with preloaded sample walk data from the mpower study. Let’s take a look at the walk data before we proceed to analyze it.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(walk_data)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">#&gt; Observations: 2,991</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt; Variables: 6</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; $ attitude         &lt;df[,4]&gt; &lt;data.frame[26 x 4]&gt;</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; $ timestamp        &lt;dbl&gt; 0.000000, 0.009980, 0.019989, 0.029999, 0.039978, 0.…</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; $ rotationRate     &lt;df[,3]&gt; &lt;data.frame[26 x 3]&gt;</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt; $ userAcceleration &lt;df[,3]&gt; &lt;data.frame[26 x 3]&gt;</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#&gt; $ gravity          &lt;df[,3]&gt; &lt;data.frame[26 x 3]&gt;</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt; $ magneticField    &lt;df[,4]&gt; &lt;data.frame[26 x 4]&gt;</span></a></code></pre></div>
<p>Let’s look at the accelerometer data – userAcceleration (plotting only the first ten seconds)</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">a &lt;-<span class="st"> </span>walk_data<span class="op">$</span>userAcceleration</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">a<span class="op">$</span>t &lt;-<span class="st"> </span>walk_data<span class="op">$</span>timestamp</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">a &lt;-<span class="st"> </span>tidyr<span class="op">::</span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span>(a, <span class="st">'axis'</span> , <span class="st">'value'</span>, <span class="op">-</span>t)</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">a &lt;-<span class="st"> </span>a <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(t<span class="op">&lt;</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(a, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> t, <span class="dt">y=</span> value)) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="st">          </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="st">          </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(<span class="op">~</span>axis, <span class="dt">dir =</span> <span class="st">'v'</span>, <span class="dt">strip.position =</span> <span class="st">'right'</span>)</a></code></pre></div>
<p><img src="modules_files/figure-html/unnamed-chunk-3-1.png" width="768"></p>
<p>Let’s look at the gyroscope data – rotationRate (plotting only the first ten seconds)</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">a &lt;-<span class="st"> </span>walk_data<span class="op">$</span>rotationRate</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">a<span class="op">$</span>t &lt;-<span class="st"> </span>walk_data<span class="op">$</span>timestamp</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">a &lt;-<span class="st"> </span>tidyr<span class="op">::</span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span>(a, <span class="st">'axis'</span> , <span class="st">'value'</span>, <span class="op">-</span>t)</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">a &lt;-<span class="st"> </span>a <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(t<span class="op">&lt;</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(a, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> t, <span class="dt">y=</span> value)) <span class="op">+</span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="st">          </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="st">          </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(<span class="op">~</span>axis, <span class="dt">dir =</span> <span class="st">'v'</span>, <span class="dt">strip.position =</span> <span class="st">'right'</span>)</a></code></pre></div>
<p><img src="modules_files/figure-html/unnamed-chunk-4-1.png" width="768"></p>
<p>Let’s get both the accelerometer and gyroscope data into the required format before we extract features from it using <code>get_walk_features</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">walk_accelerometer_data &lt;-<span class="st"> </span>walk_data<span class="op">$</span>userAcceleration</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">walk_accelerometer_data<span class="op">$</span>t &lt;-<span class="st"> </span>walk_data<span class="op">$</span>timestamp</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"></a>
<a class="sourceLine" id="cb5-4" data-line-number="4">walk_gyroscope_data &lt;-<span class="st"> </span>walk_data<span class="op">$</span>rotationRate</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">walk_gyroscope_data<span class="op">$</span>t &lt;-<span class="st"> </span>walk_data<span class="op">$</span>timestamp</a></code></pre></div>
<p>Now let’s get the default walk features.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">walk_features &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_walk_features.html">get_walk_features</a></span>(<span class="dt">accelerometer_data =</span> walk_accelerometer_data, </a>
<a class="sourceLine" id="cb6-2" data-line-number="2">                                   <span class="dt">gyroscope_data =</span> walk_gyroscope_data)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co"># Using the default settings</span></a></code></pre></div>
<p>The output file is a list containing features extracted using default functions (<code>$extracted_features</code>), features calculated using models (<code>$model_features</code>) and an element for error (<code>$error</code>). Let’s look at the <code>$extracted_features</code> to see how the default features look like</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(walk_features<span class="op">$</span>extracted_features)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="co">#&gt; Observations: 264</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="co">#&gt; Variables: 92</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt; Groups: axis, IMF, window [132]</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt; $ sensor            &lt;chr&gt; "accelerometer", "accelerometer", "accelerometer", …</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt; $ measurementType   &lt;chr&gt; "acceleration", "acceleration", "acceleration", "ac…</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt; $ axis              &lt;chr&gt; "x", "x", "x", "x", "x", "x", "x", "x", "x", "x", "…</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co">#&gt; $ IMF               &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">#&gt; $ window            &lt;int&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, …</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="co">#&gt; $ mean.tm           &lt;dbl&gt; -0.0008031012, -0.0032602160, -0.0013458405, -0.003…</span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="co">#&gt; $ median.tm         &lt;dbl&gt; -6.378011e-04, -2.697079e-04, -6.231662e-04, -2.007…</span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">#&gt; $ mode.tm           &lt;dbl&gt; -0.1698518, -0.1744849, -0.1381790, -0.1992032, -0.…</span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13"><span class="co">#&gt; $ mx.tm             &lt;dbl&gt; 0.15887744, 0.17725426, 0.12389667, 0.17576524, 0.1…</span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14"><span class="co">#&gt; $ mn.tm             &lt;dbl&gt; -0.1698518, -0.1744849, -0.1381790, -0.1992032, -0.…</span></a>
<a class="sourceLine" id="cb7-15" data-line-number="15"><span class="co">#&gt; $ sd.tm             &lt;dbl&gt; 0.04899779, 0.05193356, 0.04085500, 0.05019670, 0.0…</span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16"><span class="co">#&gt; $ skewness.tm       &lt;dbl&gt; 0.209990620, -0.190365120, -0.038069910, -0.1489231…</span></a>
<a class="sourceLine" id="cb7-17" data-line-number="17"><span class="co">#&gt; $ kurtosis.tm       &lt;dbl&gt; 1.8216223, 2.2533610, 1.9927607, 4.0330045, 2.42489…</span></a>
<a class="sourceLine" id="cb7-18" data-line-number="18"><span class="co">#&gt; $ Q25.tm            &lt;dbl&gt; -0.015915448, -0.018910526, -0.015434513, -0.021973…</span></a>
<a class="sourceLine" id="cb7-19" data-line-number="19"><span class="co">#&gt; $ Q75.tm            &lt;dbl&gt; 0.012448478, 0.015870123, 0.012315012, 0.014124171,…</span></a>
<a class="sourceLine" id="cb7-20" data-line-number="20"><span class="co">#&gt; $ range.tm          &lt;dbl&gt; 0.3287292, 0.3517392, 0.2620756, 0.3749684, 0.27438…</span></a>
<a class="sourceLine" id="cb7-21" data-line-number="21"><span class="co">#&gt; $ rough.tm          &lt;dbl&gt; 0.15023111, 0.27397501, 0.31736130, 0.21669384, 0.1…</span></a>
<a class="sourceLine" id="cb7-22" data-line-number="22"><span class="co">#&gt; $ rugo.tm           &lt;dbl&gt; 0.02918967, 0.03532039, 0.02893013, 0.02840218, 0.0…</span></a>
<a class="sourceLine" id="cb7-23" data-line-number="23"><span class="co">#&gt; $ energy.tm         &lt;dbl&gt; 0.6123650, 0.6904801, 0.4260922, 0.6448993, 0.38536…</span></a>
<a class="sourceLine" id="cb7-24" data-line-number="24"><span class="co">#&gt; $ mobility.tm       &lt;dbl&gt; 59.71780, 68.17555, 70.98324, 56.71885, 61.31597, 5…</span></a>
<a class="sourceLine" id="cb7-25" data-line-number="25"><span class="co">#&gt; $ mtkeo.tm          &lt;dbl&gt; 0.0014149224, 0.0019654313, 0.0010558534, 0.0011931…</span></a>
<a class="sourceLine" id="cb7-26" data-line-number="26"><span class="co">#&gt; $ dfa.tm            &lt;dbl&gt; 0.3770761, 0.3638755, 0.4455989, 0.4630625, 0.39347…</span></a>
<a class="sourceLine" id="cb7-27" data-line-number="27"><span class="co">#&gt; $ rmsmag.tm         &lt;dbl&gt; 0.04890860, 0.05193446, 0.04079734, 0.05019101, 0.0…</span></a>
<a class="sourceLine" id="cb7-28" data-line-number="28"><span class="co">#&gt; $ IQR.tm            &lt;dbl&gt; -0.02836393, -0.03478065, -0.02774953, -0.03609772,…</span></a>
<a class="sourceLine" id="cb7-29" data-line-number="29"><span class="co">#&gt; $ complexity.tm     &lt;dbl&gt; 83.35570, 93.02815, 122.23952, 102.88604, 98.35295,…</span></a>
<a class="sourceLine" id="cb7-30" data-line-number="30"><span class="co">#&gt; $ mn.fr             &lt;dbl&gt; 8.868570, 10.346153, 10.083378, 8.061172, 8.956587,…</span></a>
<a class="sourceLine" id="cb7-31" data-line-number="31"><span class="co">#&gt; $ mx.fr             &lt;dbl&gt; 0.019086869, 0.019679752, 0.009513804, 0.029780054,…</span></a>
<a class="sourceLine" id="cb7-32" data-line-number="32"><span class="co">#&gt; $ sd.fr             &lt;dbl&gt; 4.344314, 4.716089, 7.690070, 5.485321, 5.267110, 4…</span></a>
<a class="sourceLine" id="cb7-33" data-line-number="33"><span class="co">#&gt; $ sem.fr            &lt;dbl&gt; 0.19428361, 0.21090991, 0.34391037, 0.24531103, 0.2…</span></a>
<a class="sourceLine" id="cb7-34" data-line-number="34"><span class="co">#&gt; $ md.fr             &lt;dbl&gt; 8.520918, 9.523379, 8.921902, 6.515996, 7.718949, 6…</span></a>
<a class="sourceLine" id="cb7-35" data-line-number="35"><span class="co">#&gt; $ mod.fr            &lt;dbl&gt; 8.520918, 9.222641, 9.222641, 6.315504, 8.019687, 6…</span></a>
<a class="sourceLine" id="cb7-36" data-line-number="36"><span class="co">#&gt; $ Q25.fr            &lt;dbl&gt; 6.816734, 8.119934, 5.714027, 5.613781, 5.814273, 4…</span></a>
<a class="sourceLine" id="cb7-37" data-line-number="37"><span class="co">#&gt; $ Q75.fr            &lt;dbl&gt; 10.225101, 11.628547, 11.929285, 8.420672, 10.02460…</span></a>
<a class="sourceLine" id="cb7-38" data-line-number="38"><span class="co">#&gt; $ IQR.fr            &lt;dbl&gt; 3.408367, 3.508613, 6.215258, 2.806891, 4.210336, 4…</span></a>
<a class="sourceLine" id="cb7-39" data-line-number="39"><span class="co">#&gt; $ cent.fr           &lt;dbl&gt; 8.868570, 10.346153, 10.083378, 8.061172, 8.956587,…</span></a>
<a class="sourceLine" id="cb7-40" data-line-number="40"><span class="co">#&gt; $ skew.fr           &lt;dbl&gt; 2.7704827, 2.8800949, 1.4138560, 3.9579086, 2.38715…</span></a>
<a class="sourceLine" id="cb7-41" data-line-number="41"><span class="co">#&gt; $ kurt.fr           &lt;dbl&gt; 10.495027, 10.980161, 3.714823, 19.337454, 7.491719…</span></a>
<a class="sourceLine" id="cb7-42" data-line-number="42"><span class="co">#&gt; $ sfm.fr            &lt;dbl&gt; 0.089606480, 0.145213070, 0.340779843, 0.167656098,…</span></a>
<a class="sourceLine" id="cb7-43" data-line-number="43"><span class="co">#&gt; $ sh.fr             &lt;dbl&gt; 0.8009325, 0.8058084, 0.8706496, 0.7784478, 0.80388…</span></a>
<a class="sourceLine" id="cb7-44" data-line-number="44"><span class="co">#&gt; $ ewt.permEnt.fr    &lt;dbl&gt; 0.1165644969, 0.0436681098, 0.3637662359, 0.0446636…</span></a>
<a class="sourceLine" id="cb7-45" data-line-number="45"><span class="co">#&gt; $ ewt.shannonEnt.fr &lt;dbl&gt; 0.1165644969, 0.0436681098, 0.3637662359, 0.0446636…</span></a>
<a class="sourceLine" id="cb7-46" data-line-number="46"><span class="co">#&gt; $ ewt.simpsonEnt.fr &lt;dbl&gt; 5.458081e-02, 1.634447e-02, 2.324441e-01, 1.675756e…</span></a>
<a class="sourceLine" id="cb7-47" data-line-number="47"><span class="co">#&gt; $ ewt.renyiEnt.fr   &lt;dbl&gt; 5.108887e-02, 1.500030e-02, 2.407983e-01, 1.538264e…</span></a>
<a class="sourceLine" id="cb7-48" data-line-number="48"><span class="co">#&gt; $ ewt.tsallisEnt.fr &lt;dbl&gt; 1.1105298, 1.0849375, 1.4455592, 1.1025870, 2.75861…</span></a>
<a class="sourceLine" id="cb7-49" data-line-number="49"><span class="co">#&gt; $ EnergyInBand1     &lt;dbl&gt; 0.0008864663, 0.0004252205, 0.0014912484, 0.0006475…</span></a>
<a class="sourceLine" id="cb7-50" data-line-number="50"><span class="co">#&gt; $ EnergyInBand1_5   &lt;dbl&gt; 0.0009161476, 0.0004448356, 0.0015253494, 0.0007100…</span></a>
<a class="sourceLine" id="cb7-51" data-line-number="51"><span class="co">#&gt; $ EnergyInBand2     &lt;dbl&gt; 0.0009591023, 0.0004730107, 0.0015725410, 0.0008070…</span></a>
<a class="sourceLine" id="cb7-52" data-line-number="52"><span class="co">#&gt; $ EnergyInBand2_5   &lt;dbl&gt; 0.0010184772, 0.0005116088, 0.0016340377, 0.0009544…</span></a>
<a class="sourceLine" id="cb7-53" data-line-number="53"><span class="co">#&gt; $ EnergyInBand3     &lt;dbl&gt; 0.0010989436, 0.0005633928, 0.0017114044, 0.0011814…</span></a>
<a class="sourceLine" id="cb7-54" data-line-number="54"><span class="co">#&gt; $ EnergyInBand3_5   &lt;dbl&gt; 0.0012074158, 0.0006324383, 0.0018065586, 0.0015430…</span></a>
<a class="sourceLine" id="cb7-55" data-line-number="55"><span class="co">#&gt; $ EnergyInBand4     &lt;dbl&gt; 0.0013542336, 0.0007248044, 0.0019217349, 0.0021495…</span></a>
<a class="sourceLine" id="cb7-56" data-line-number="56"><span class="co">#&gt; $ EnergyInBand4_5   &lt;dbl&gt; 0.0015551123, 0.0008496416, 0.0020593703, 0.0032328…</span></a>
<a class="sourceLine" id="cb7-57" data-line-number="57"><span class="co">#&gt; $ EnergyInBand5     &lt;dbl&gt; 0.001834345, 0.001021046, 0.002221837, 0.005261835,…</span></a>
<a class="sourceLine" id="cb7-58" data-line-number="58"><span class="co">#&gt; $ EnergyInBand5_5   &lt;dbl&gt; 0.002229833, 0.001261189, 0.002410902, 0.008734095,…</span></a>
<a class="sourceLine" id="cb7-59" data-line-number="59"><span class="co">#&gt; $ EnergyInBand6     &lt;dbl&gt; 0.002799798, 0.001605531, 0.002626750, 0.011697586,…</span></a>
<a class="sourceLine" id="cb7-60" data-line-number="60"><span class="co">#&gt; $ EnergyInBand6_5   &lt;dbl&gt; 0.003625980, 0.002110836, 0.002866354, 0.009854174,…</span></a>
<a class="sourceLine" id="cb7-61" data-line-number="61"><span class="co">#&gt; $ EnergyInBand7     &lt;dbl&gt; 0.0047867250, 0.0028639954, 0.0031210988, 0.0061899…</span></a>
<a class="sourceLine" id="cb7-62" data-line-number="62"><span class="co">#&gt; $ EnergyInBand7_5   &lt;dbl&gt; 0.0062172406, 0.0039748281, 0.0033739734, 0.0038210…</span></a>
<a class="sourceLine" id="cb7-63" data-line-number="63"><span class="co">#&gt; $ EnergyInBand8     &lt;dbl&gt; 0.0074011309, 0.0054849150, 0.0035976034, 0.0025402…</span></a>
<a class="sourceLine" id="cb7-64" data-line-number="64"><span class="co">#&gt; $ EnergyInBand8_5   &lt;dbl&gt; 0.0074548713, 0.0070731909, 0.0037557313, 0.0018277…</span></a>
<a class="sourceLine" id="cb7-65" data-line-number="65"><span class="co">#&gt; $ EnergyInBand9     &lt;dbl&gt; 0.0062719266, 0.0078439593, 0.0038109693, 0.0014070…</span></a>
<a class="sourceLine" id="cb7-66" data-line-number="66"><span class="co">#&gt; $ EnergyInBand9_5   &lt;dbl&gt; 4.727010e-03, 7.214504e-03, 3.738402e-03, 1.145626e…</span></a>
<a class="sourceLine" id="cb7-67" data-line-number="67"><span class="co">#&gt; $ EnergyInBand10    &lt;dbl&gt; 3.457030e-03, 5.799924e-03, 3.538197e-03, 9.776878e…</span></a>
<a class="sourceLine" id="cb7-68" data-line-number="68"><span class="co">#&gt; $ EnergyInBand10_5  &lt;dbl&gt; 2.568138e-03, 4.425284e-03, 3.237593e-03, 8.686896e…</span></a>
<a class="sourceLine" id="cb7-69" data-line-number="69"><span class="co">#&gt; $ EnergyInBand11    &lt;dbl&gt; 1.972648e-03, 3.381615e-03, 2.879820e-03, 7.994415e…</span></a>
<a class="sourceLine" id="cb7-70" data-line-number="70"><span class="co">#&gt; $ EnergyInBand11_5  &lt;dbl&gt; 1.573654e-03, 2.646699e-03, 2.508024e-03, 7.587837e…</span></a>
<a class="sourceLine" id="cb7-71" data-line-number="71"><span class="co">#&gt; $ EnergyInBand12    &lt;dbl&gt; 1.302902e-03, 2.133913e-03, 2.154218e-03, 7.398683e…</span></a>
<a class="sourceLine" id="cb7-72" data-line-number="72"><span class="co">#&gt; $ EnergyInBand12_5  &lt;dbl&gt; 1.117065e-03, 1.770466e-03, 1.836458e-03, 7.380246e…</span></a>
<a class="sourceLine" id="cb7-73" data-line-number="73"><span class="co">#&gt; $ EnergyInBand13    &lt;dbl&gt; 9.891482e-04, 1.506435e-03, 1.561473e-03, 7.492346e…</span></a>
<a class="sourceLine" id="cb7-74" data-line-number="74"><span class="co">#&gt; $ EnergyInBand13_5  &lt;dbl&gt; 9.020890e-04, 1.309107e-03, 1.328847e-03, 7.687373e…</span></a>
<a class="sourceLine" id="cb7-75" data-line-number="75"><span class="co">#&gt; $ EnergyInBand14    &lt;dbl&gt; 8.446351e-04, 1.156963e-03, 1.134556e-03, 7.896774e…</span></a>
<a class="sourceLine" id="cb7-76" data-line-number="76"><span class="co">#&gt; $ EnergyInBand14_5  &lt;dbl&gt; 8.086155e-04, 1.035523e-03, 9.732687e-04, 8.023453e…</span></a>
<a class="sourceLine" id="cb7-77" data-line-number="77"><span class="co">#&gt; $ EnergyInBand15    &lt;dbl&gt; 7.868650e-04, 9.347916e-04, 8.395972e-04, 7.953536e…</span></a>
<a class="sourceLine" id="cb7-78" data-line-number="78"><span class="co">#&gt; $ EnergyInBand15_5  &lt;dbl&gt; 7.714056e-04, 8.477555e-04, 7.286738e-04, 7.598484e…</span></a>
<a class="sourceLine" id="cb7-79" data-line-number="79"><span class="co">#&gt; $ EnergyInBand16    &lt;dbl&gt; 7.520915e-04, 7.695371e-04, 6.363419e-04, 6.949560e…</span></a>
<a class="sourceLine" id="cb7-80" data-line-number="80"><span class="co">#&gt; $ EnergyInBand16_5  &lt;dbl&gt; 7.169852e-04, 6.969266e-04, 5.591605e-04, 6.093985e…</span></a>
<a class="sourceLine" id="cb7-81" data-line-number="81"><span class="co">#&gt; $ EnergyInBand17    &lt;dbl&gt; 6.563367e-04, 6.280929e-04, 4.943294e-04, 5.168181e…</span></a>
<a class="sourceLine" id="cb7-82" data-line-number="82"><span class="co">#&gt; $ EnergyInBand17_5  &lt;dbl&gt; 5.692998e-04, 5.623288e-04, 4.395896e-04, 4.290739e…</span></a>
<a class="sourceLine" id="cb7-83" data-line-number="83"><span class="co">#&gt; $ EnergyInBand18    &lt;dbl&gt; 4.667860e-04, 4.997517e-04, 3.931253e-04, 3.528351e…</span></a>
<a class="sourceLine" id="cb7-84" data-line-number="84"><span class="co">#&gt; $ EnergyInBand18_5  &lt;dbl&gt; 3.652407e-04, 4.409556e-04, 3.534775e-04, 2.900341e…</span></a>
<a class="sourceLine" id="cb7-85" data-line-number="85"><span class="co">#&gt; $ EnergyInBand19    &lt;dbl&gt; 2.771870e-04, 3.866692e-04, 3.194721e-04, 2.398173e…</span></a>
<a class="sourceLine" id="cb7-86" data-line-number="86"><span class="co">#&gt; $ EnergyInBand19_5  &lt;dbl&gt; 2.074026e-04, 3.374914e-04, 2.901612e-04, 2.002202e…</span></a>
<a class="sourceLine" id="cb7-87" data-line-number="87"><span class="co">#&gt; $ EnergyInBand20    &lt;dbl&gt; 1.549627e-04, 2.937442e-04, 2.647766e-04, 1.691203e…</span></a>
<a class="sourceLine" id="cb7-88" data-line-number="88"><span class="co">#&gt; $ EnergyInBand20_5  &lt;dbl&gt; 1.165835e-04, 2.554418e-04, 2.426930e-04, 1.446404e…</span></a>
<a class="sourceLine" id="cb7-89" data-line-number="89"><span class="co">#&gt; $ EnergyInBand21    &lt;dbl&gt; 8.874373e-05, 2.223381e-04, 2.233989e-04, 1.252583e…</span></a>
<a class="sourceLine" id="cb7-90" data-line-number="90"><span class="co">#&gt; $ EnergyInBand21_5  &lt;dbl&gt; 6.851516e-05, 1.940084e-04, 2.064741e-04, 1.097891e…</span></a>
<a class="sourceLine" id="cb7-91" data-line-number="91"><span class="co">#&gt; $ EnergyInBand22    &lt;dbl&gt; 5.370405e-05, 1.699333e-04, 1.915714e-04, 9.732791e…</span></a>
<a class="sourceLine" id="cb7-92" data-line-number="92"><span class="co">#&gt; $ EnergyInBand22_5  &lt;dbl&gt; 4.274226e-05, 1.495660e-04, 1.784028e-04, 8.718755e…</span></a>
<a class="sourceLine" id="cb7-93" data-line-number="93"><span class="co">#&gt; $ EnergyInBand23    &lt;dbl&gt; 3.453036e-05, 1.323776e-04, 1.667281e-04, 7.884598e…</span></a>
<a class="sourceLine" id="cb7-94" data-line-number="94"><span class="co">#&gt; $ EnergyInBand23_5  &lt;dbl&gt; 2.830120e-05, 1.178841e-04, 1.563460e-04, 7.190445e…</span></a>
<a class="sourceLine" id="cb7-95" data-line-number="95"><span class="co">#&gt; $ EnergyInBand24    &lt;dbl&gt; 2.351775e-05, 1.056576e-04, 1.470873e-04, 6.605630e…</span></a>
<a class="sourceLine" id="cb7-96" data-line-number="96"><span class="co">#&gt; $ EnergyInBand24_5  &lt;dbl&gt; 1.980129e-05, 9.532915e-05, 1.388088e-04, 6.106397e…</span></a></code></pre></div>
<p>As with most of the functions in <code>mhealthtools</code>, <code>get_walk_features</code> also comes with many options for input parameters for versatile data analysis. Let’s look at a few examples</p>
<p>Changing the max number of possible IMFs –</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">walk_features &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_walk_features.html">get_walk_features</a></span>(</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">  <span class="dt">accelerometer_data =</span> accelerometer_data,</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">  <span class="dt">gyroscope_data =</span> gyroscope_data,</a>
<a class="sourceLine" id="cb8-4" data-line-number="4">  <span class="dt">IMF =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co"># Changing the Max no. of possible IMFs to 3 (default is 2)</span></a></code></pre></div>
<p>Applying bandpass frequency filter before running feature extraction pipeline –</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">walk_features &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_walk_features.html">get_walk_features</a></span>(</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">  <span class="dt">accelerometer_data =</span> accelerometer_data,</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">  <span class="dt">gyroscope_data =</span> gyroscope_data,</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">  <span class="dt">frequency_filter =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">3</span>,<span class="dv">15</span>))</a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co"># Consider the frequencies only from 3Hz to 15Hz</span></a></code></pre></div>
<p>Please read the function documentation <code><a href="../reference/get_walk_features.html">?get_walk_features</a></code> for more info.</p>
</div>
<div id="tremor-module" class="section level3">
<h3 class="hasAnchor">
<a href="#tremor-module" class="anchor"></a>Tremor Module</h3>
<div id="resting-tremor" class="section level5">
<h5 class="hasAnchor">
<a href="#resting-tremor" class="anchor"></a>Resting tremor</h5>
<p>In this activity, the participant is asked to hold the phone in his/her hand in their lap so that their resting tremor can be measured. For someone with Parkinson’s we expect to see some effects of the characteristic pill rolling tremor spread across gyroscope and accelerometer measurements.</p>
<p>The features extracted from <code>get_balance_features</code> do capture to some extent the effects of those symptoms.</p>
<p><code>mhealthtools</code> comes with preloaded sample rest tremor data from the mPower study. Let’s take a look at the data before we proceed to analyze it.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(rest_tremor_data)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="co">#&gt; Observations: 862</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="co">#&gt; Variables: 6</span></a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="co">#&gt; $ magneticField    &lt;df[,4]&gt; &lt;data.frame[26 x 4]&gt;</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5"><span class="co">#&gt; $ attitude         &lt;df[,4]&gt; &lt;data.frame[26 x 4]&gt;</span></a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="co">#&gt; $ rotationRate     &lt;df[,3]&gt; &lt;data.frame[26 x 3]&gt;</span></a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">#&gt; $ gravity          &lt;df[,3]&gt; &lt;data.frame[26 x 3]&gt;</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">#&gt; $ timestamp        &lt;dbl&gt; 0.00000000, 0.01077883, 0.02155783, 0.03233583, 0.04…</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">#&gt; $ userAcceleration &lt;df[,3]&gt; &lt;data.frame[26 x 3]&gt;</span></a></code></pre></div>
<p>Let’s look at the accelerometer data – userAcceleration (plotting only the first ten seconds)</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2">a &lt;-<span class="st"> </span>rest_tremor_data<span class="op">$</span>userAcceleration</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">a<span class="op">$</span>t &lt;-<span class="st"> </span>rest_tremor_data<span class="op">$</span>timestamp</a>
<a class="sourceLine" id="cb11-4" data-line-number="4">a &lt;-<span class="st"> </span>tidyr<span class="op">::</span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span>(a, <span class="st">'axis'</span> , <span class="st">'value'</span>, <span class="op">-</span>t)</a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(a, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> t, <span class="dt">y=</span> value)) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="st">          </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="st">          </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(<span class="op">~</span>axis, <span class="dt">dir =</span> <span class="st">'v'</span>, <span class="dt">strip.position =</span> <span class="st">'right'</span>)</a></code></pre></div>
<p><img src="modules_files/figure-html/unnamed-chunk-10-1.png" width="768"></p>
<p>Let’s look at the gyroscope data – rotationRate (plotting only the first ten seconds)</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2">a &lt;-<span class="st"> </span>rest_tremor_data<span class="op">$</span>rotationRate</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">a<span class="op">$</span>t &lt;-<span class="st"> </span>rest_tremor_data<span class="op">$</span>timestamp</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">a &lt;-<span class="st"> </span>tidyr<span class="op">::</span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span>(a, <span class="st">'axis'</span> , <span class="st">'value'</span>, <span class="op">-</span>t)</a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(a, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> t, <span class="dt">y=</span> value)) <span class="op">+</span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="st">          </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="st">          </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(<span class="op">~</span>axis, <span class="dt">dir =</span> <span class="st">'v'</span>, <span class="dt">strip.position =</span> <span class="st">'right'</span>)</a></code></pre></div>
<p><img src="modules_files/figure-html/unnamed-chunk-11-1.png" width="768"></p>
<p>Let’s get the accelerometer and gyroscope data into the required format before we extract features from it using <code>get_balance_features</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">rest_tremor_accelerometer_data &lt;-<span class="st"> </span>rest_tremor_data<span class="op">$</span>userAcceleration</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">rest_tremor_accelerometer_data<span class="op">$</span>t &lt;-<span class="st"> </span>rest_tremor_data<span class="op">$</span>timestamp</a>
<a class="sourceLine" id="cb13-3" data-line-number="3"></a>
<a class="sourceLine" id="cb13-4" data-line-number="4">rest_tremor_gyroscope_data &lt;-<span class="st"> </span>rest_tremor_data<span class="op">$</span>rotationRate</a>
<a class="sourceLine" id="cb13-5" data-line-number="5">rest_tremor_gyroscope_data<span class="op">$</span>t &lt;-<span class="st"> </span>rest_tremor_data<span class="op">$</span>timestamp</a></code></pre></div>
<p>Now let’s get the rest tremor features.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">rest_tremor_features &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_tremor_features.html">get_tremor_features</a></span>(</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">  <span class="dt">accelerometer_data =</span> rest_tremor_accelerometer_data,</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">  <span class="dt">gyroscope_data =</span> rest_tremor_gyroscope_data)</a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="co"># Using the default settings</span></a></code></pre></div>
<p>The output file is a list similar to the <code>get_walk_features</code> described above. Let’s take a look at the default features</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(rest_tremor_features<span class="op">$</span>extracted_features)</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="co">#&gt; Observations: 6</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="co">#&gt; Variables: 90</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co">#&gt; Groups: axis [3]</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">#&gt; $ sensor            &lt;chr&gt; "accelerometer", "accelerometer", "accelerometer", …</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">#&gt; $ measurementType   &lt;chr&gt; "acceleration", "acceleration", "acceleration", "ve…</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">#&gt; $ axis              &lt;chr&gt; "x", "y", "z", "x", "y", "z"</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">#&gt; $ mean.tm           &lt;dbl&gt; 0.0013185552, -0.0001261282, -0.0013355344, 0.00307…</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co">#&gt; $ median.tm         &lt;dbl&gt; 0.0012194820, -0.0001675541, -0.0012943114, 0.00236…</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co">#&gt; $ mode.tm           &lt;dbl&gt; -0.01214047, -0.01327899, -0.03349339, -0.05066245,…</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">#&gt; $ mx.tm             &lt;dbl&gt; 0.018515116, 0.009729864, 0.030849198, 0.060661312,…</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">#&gt; $ mn.tm             &lt;dbl&gt; -0.01214047, -0.01327899, -0.03349339, -0.05066245,…</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">#&gt; $ sd.tm             &lt;dbl&gt; 0.004937759, 0.003131048, 0.009658972, 0.013915457,…</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">#&gt; $ skewness.tm       &lt;dbl&gt; 0.12608688, -0.12356871, 0.05244045, 0.17329442, 0.…</span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">#&gt; $ kurtosis.tm       &lt;dbl&gt; 0.02758997, 0.52817821, -0.02131758, 0.91692564, 0.…</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">#&gt; $ Q25.tm            &lt;dbl&gt; -0.002063444, -0.002055894, -0.008441183, -0.005820…</span></a>
<a class="sourceLine" id="cb15-17" data-line-number="17"><span class="co">#&gt; $ Q75.tm            &lt;dbl&gt; 0.004611785, 0.001890568, 0.004848781, 0.011447262,…</span></a>
<a class="sourceLine" id="cb15-18" data-line-number="18"><span class="co">#&gt; $ range.tm          &lt;dbl&gt; 0.03065559, 0.02300886, 0.06434259, 0.11132376, 0.1…</span></a>
<a class="sourceLine" id="cb15-19" data-line-number="19"><span class="co">#&gt; $ rough.tm          &lt;dbl&gt; 0.04338509, 0.01965043, 0.08077782, 0.17628056, 0.2…</span></a>
<a class="sourceLine" id="cb15-20" data-line-number="20"><span class="co">#&gt; $ rugo.tm           &lt;dbl&gt; 0.004767991, 0.002966889, 0.007488124, 0.010297196,…</span></a>
<a class="sourceLine" id="cb15-21" data-line-number="21"><span class="co">#&gt; $ energy.tm         &lt;dbl&gt; 0.022491106, 0.008454491, 0.081865136, 0.174862060,…</span></a>
<a class="sourceLine" id="cb15-22" data-line-number="22"><span class="co">#&gt; $ mobility.tm       &lt;dbl&gt; 89.74073, 88.06308, 72.04831, 68.77106, 55.78307, 8…</span></a>
<a class="sourceLine" id="cb15-23" data-line-number="23"><span class="co">#&gt; $ mtkeo.tm          &lt;dbl&gt; 2.024080e-05, 6.201277e-06, 6.492872e-05, 1.093700e…</span></a>
<a class="sourceLine" id="cb15-24" data-line-number="24"><span class="co">#&gt; $ dfa.tm            &lt;dbl&gt; 0.6841811, 0.4855599, 0.4794401, 0.6555995, 0.43372…</span></a>
<a class="sourceLine" id="cb15-25" data-line-number="25"><span class="co">#&gt; $ rmsmag.tm         &lt;dbl&gt; 0.005108010, 0.003131772, 0.009745315, 0.014242760,…</span></a>
<a class="sourceLine" id="cb15-26" data-line-number="26"><span class="co">#&gt; $ IQR.tm            &lt;dbl&gt; -0.006675229, -0.003946463, -0.013289964, -0.017267…</span></a>
<a class="sourceLine" id="cb15-27" data-line-number="27"><span class="co">#&gt; $ complexity.tm     &lt;dbl&gt; 138.3623, 149.6476, 120.2148, 129.1410, 113.0214, 1…</span></a>
<a class="sourceLine" id="cb15-28" data-line-number="28"><span class="co">#&gt; $ mn.fr             &lt;dbl&gt; 13.680469, 12.859411, 10.852634, 9.544220, 7.936531…</span></a>
<a class="sourceLine" id="cb15-29" data-line-number="29"><span class="co">#&gt; $ mx.fr             &lt;dbl&gt; 0.02095742, 0.03375673, 0.02261178, 0.02051446, 0.0…</span></a>
<a class="sourceLine" id="cb15-30" data-line-number="30"><span class="co">#&gt; $ sd.fr             &lt;dbl&gt; 10.334666, 11.791336, 7.561864, 8.543557, 6.266051,…</span></a>
<a class="sourceLine" id="cb15-31" data-line-number="31"><span class="co">#&gt; $ sem.fr            &lt;dbl&gt; 0.4621803, 0.5273246, 0.3381769, 0.3820795, 0.28022…</span></a>
<a class="sourceLine" id="cb15-32" data-line-number="32"><span class="co">#&gt; $ md.fr             &lt;dbl&gt; 10.330572, 6.980116, 8.283071, 6.980116, 6.887048, …</span></a>
<a class="sourceLine" id="cb15-33" data-line-number="33"><span class="co">#&gt; $ mod.fr            &lt;dbl&gt; 6.700912, 6.700912, 6.887048, 6.514775, 6.980116, 0…</span></a>
<a class="sourceLine" id="cb15-34" data-line-number="34"><span class="co">#&gt; $ Q25.fr            &lt;dbl&gt; 6.607843, 5.956366, 6.793980, 5.584093, 5.677161, 3…</span></a>
<a class="sourceLine" id="cb15-35" data-line-number="35"><span class="co">#&gt; $ Q75.fr            &lt;dbl&gt; 16.380006, 16.845347, 11.819664, 10.702845, 8.00386…</span></a>
<a class="sourceLine" id="cb15-36" data-line-number="36"><span class="co">#&gt; $ IQR.fr            &lt;dbl&gt; 9.772163, 10.888981, 5.025684, 5.118752, 2.326705, …</span></a>
<a class="sourceLine" id="cb15-37" data-line-number="37"><span class="co">#&gt; $ cent.fr           &lt;dbl&gt; 13.680469, 12.859411, 10.852634, 9.544220, 7.936531…</span></a>
<a class="sourceLine" id="cb15-38" data-line-number="38"><span class="co">#&gt; $ skew.fr           &lt;dbl&gt; 3.874135, 5.632486, 3.110190, 3.240079, 3.389045, 2…</span></a>
<a class="sourceLine" id="cb15-39" data-line-number="39"><span class="co">#&gt; $ kurt.fr           &lt;dbl&gt; 21.004299, 38.895143, 13.512555, 14.708354, 14.4471…</span></a>
<a class="sourceLine" id="cb15-40" data-line-number="40"><span class="co">#&gt; $ sfm.fr            &lt;dbl&gt; 0.6037413, 0.5995888, 0.3193593, 0.4000738, 0.22488…</span></a>
<a class="sourceLine" id="cb15-41" data-line-number="41"><span class="co">#&gt; $ sh.fr             &lt;dbl&gt; 0.9062357, 0.8820516, 0.8222129, 0.8570265, 0.78155…</span></a>
<a class="sourceLine" id="cb15-42" data-line-number="42"><span class="co">#&gt; $ ewt.permEnt.fr    &lt;dbl&gt; 0.45368457, 0.27168270, 0.35480569, 0.40604633, 0.0…</span></a>
<a class="sourceLine" id="cb15-43" data-line-number="43"><span class="co">#&gt; $ ewt.shannonEnt.fr &lt;dbl&gt; 0.45368457, 0.27168270, 0.35480569, 0.40604633, 0.0…</span></a>
<a class="sourceLine" id="cb15-44" data-line-number="44"><span class="co">#&gt; $ ewt.simpsonEnt.fr &lt;dbl&gt; 0.4161757, 0.1824936, 0.3027417, 0.2844180, 0.04032…</span></a>
<a class="sourceLine" id="cb15-45" data-line-number="45"><span class="co">#&gt; $ ewt.renyiEnt.fr   &lt;dbl&gt; 0.33437460, 0.14534902, 0.26011748, 0.24140552, 0.0…</span></a>
<a class="sourceLine" id="cb15-46" data-line-number="46"><span class="co">#&gt; $ ewt.tsallisEnt.fr &lt;dbl&gt; 2.984963, 2.205358, 2.024977, 2.305096, 1.252862, 2…</span></a>
<a class="sourceLine" id="cb15-47" data-line-number="47"><span class="co">#&gt; $ EnergyInBand1     &lt;dbl&gt; 0.0004992217, 0.0008967486, 0.0001500378, 0.0018707…</span></a>
<a class="sourceLine" id="cb15-48" data-line-number="48"><span class="co">#&gt; $ EnergyInBand1_5   &lt;dbl&gt; 0.0006254908, 0.0011041708, 0.0001351891, 0.0012125…</span></a>
<a class="sourceLine" id="cb15-49" data-line-number="49"><span class="co">#&gt; $ EnergyInBand2     &lt;dbl&gt; 0.0009465629, 0.0017446388, 0.0001566020, 0.0010538…</span></a>
<a class="sourceLine" id="cb15-50" data-line-number="50"><span class="co">#&gt; $ EnergyInBand2_5   &lt;dbl&gt; 0.0014168504, 0.0029917502, 0.0002411758, 0.0012158…</span></a>
<a class="sourceLine" id="cb15-51" data-line-number="51"><span class="co">#&gt; $ EnergyInBand3     &lt;dbl&gt; 0.0009668804, 0.0021744832, 0.0002499768, 0.0009753…</span></a>
<a class="sourceLine" id="cb15-52" data-line-number="52"><span class="co">#&gt; $ EnergyInBand3_5   &lt;dbl&gt; 0.0007858397, 0.0016541558, 0.0003337084, 0.0010594…</span></a>
<a class="sourceLine" id="cb15-53" data-line-number="53"><span class="co">#&gt; $ EnergyInBand4     &lt;dbl&gt; 0.0008936736, 0.0016605093, 0.0006150684, 0.0015984…</span></a>
<a class="sourceLine" id="cb15-54" data-line-number="54"><span class="co">#&gt; $ EnergyInBand4_5   &lt;dbl&gt; 0.0007928071, 0.0012819131, 0.0007845236, 0.0017183…</span></a>
<a class="sourceLine" id="cb15-55" data-line-number="55"><span class="co">#&gt; $ EnergyInBand5     &lt;dbl&gt; 0.001408163, 0.001969521, 0.001749567, 0.003286382,…</span></a>
<a class="sourceLine" id="cb15-56" data-line-number="56"><span class="co">#&gt; $ EnergyInBand5_5   &lt;dbl&gt; 0.002111002, 0.002599407, 0.002755713, 0.004425618,…</span></a>
<a class="sourceLine" id="cb15-57" data-line-number="57"><span class="co">#&gt; $ EnergyInBand6     &lt;dbl&gt; 0.004751592, 0.005889985, 0.005295434, 0.006776890,…</span></a>
<a class="sourceLine" id="cb15-58" data-line-number="58"><span class="co">#&gt; $ EnergyInBand6_5   &lt;dbl&gt; 0.009117636, 0.014178630, 0.010134697, 0.008959399,…</span></a>
<a class="sourceLine" id="cb15-59" data-line-number="59"><span class="co">#&gt; $ EnergyInBand7     &lt;dbl&gt; 0.004087566, 0.004656985, 0.007079907, 0.004906833,…</span></a>
<a class="sourceLine" id="cb15-60" data-line-number="60"><span class="co">#&gt; $ EnergyInBand7_5   &lt;dbl&gt; 0.002293941, 0.001810674, 0.004956780, 0.003220077,…</span></a>
<a class="sourceLine" id="cb15-61" data-line-number="61"><span class="co">#&gt; $ EnergyInBand8     &lt;dbl&gt; 0.001977918, 0.001170643, 0.004397456, 0.002790076,…</span></a>
<a class="sourceLine" id="cb15-62" data-line-number="62"><span class="co">#&gt; $ EnergyInBand8_5   &lt;dbl&gt; 0.0013161061, 0.0006260989, 0.0027721169, 0.0017355…</span></a>
<a class="sourceLine" id="cb15-63" data-line-number="63"><span class="co">#&gt; $ EnergyInBand9     &lt;dbl&gt; 0.0015050920, 0.0006391334, 0.0030190575, 0.0018808…</span></a>
<a class="sourceLine" id="cb15-64" data-line-number="64"><span class="co">#&gt; $ EnergyInBand9_5   &lt;dbl&gt; 0.0011094448, 0.0004835708, 0.0022647031, 0.0014153…</span></a>
<a class="sourceLine" id="cb15-65" data-line-number="65"><span class="co">#&gt; $ EnergyInBand10    &lt;dbl&gt; 0.0010071720, 0.0005126370, 0.0022447860, 0.0014116…</span></a>
<a class="sourceLine" id="cb15-66" data-line-number="66"><span class="co">#&gt; $ EnergyInBand10_5  &lt;dbl&gt; 0.0011379824, 0.0007454019, 0.0028782165, 0.0018068…</span></a>
<a class="sourceLine" id="cb15-67" data-line-number="67"><span class="co">#&gt; $ EnergyInBand11    &lt;dbl&gt; 0.0008762288, 0.0007133315, 0.0023921751, 0.0014594…</span></a>
<a class="sourceLine" id="cb15-68" data-line-number="68"><span class="co">#&gt; $ EnergyInBand11_5  &lt;dbl&gt; 0.0009386587, 0.0007930232, 0.0024388812, 0.0014000…</span></a>
<a class="sourceLine" id="cb15-69" data-line-number="69"><span class="co">#&gt; $ EnergyInBand12    &lt;dbl&gt; 0.0014744618, 0.0009680077, 0.0029477612, 0.0015477…</span></a>
<a class="sourceLine" id="cb15-70" data-line-number="70"><span class="co">#&gt; $ EnergyInBand12_5  &lt;dbl&gt; 0.0017390354, 0.0006707214, 0.0020865084, 0.0010238…</span></a>
<a class="sourceLine" id="cb15-71" data-line-number="71"><span class="co">#&gt; $ EnergyInBand13    &lt;dbl&gt; 0.0033736452, 0.0007054890, 0.0020807834, 0.0010228…</span></a>
<a class="sourceLine" id="cb15-72" data-line-number="72"><span class="co">#&gt; $ EnergyInBand13_5  &lt;dbl&gt; 0.0029796053, 0.0004961677, 0.0012250505, 0.0006513…</span></a>
<a class="sourceLine" id="cb15-73" data-line-number="73"><span class="co">#&gt; $ EnergyInBand14    &lt;dbl&gt; 0.0021071872, 0.0004703631, 0.0008920618, 0.0005366…</span></a>
<a class="sourceLine" id="cb15-74" data-line-number="74"><span class="co">#&gt; $ EnergyInBand14_5  &lt;dbl&gt; 0.0016423732, 0.0005899534, 0.0007798745, 0.0005532…</span></a>
<a class="sourceLine" id="cb15-75" data-line-number="75"><span class="co">#&gt; $ EnergyInBand15    &lt;dbl&gt; 0.0009317006, 0.0004865490, 0.0004398595, 0.0003716…</span></a>
<a class="sourceLine" id="cb15-76" data-line-number="76"><span class="co">#&gt; $ EnergyInBand15_5  &lt;dbl&gt; 0.0007889212, 0.0004865512, 0.0003274318, 0.0003211…</span></a>
<a class="sourceLine" id="cb15-77" data-line-number="77"><span class="co">#&gt; $ EnergyInBand16    &lt;dbl&gt; 0.0009331066, 0.0005595075, 0.0003050154, 0.0003447…</span></a>
<a class="sourceLine" id="cb15-78" data-line-number="78"><span class="co">#&gt; $ EnergyInBand16_5  &lt;dbl&gt; 0.0007617296, 0.0003776301, 0.0001875350, 0.0002378…</span></a>
<a class="sourceLine" id="cb15-79" data-line-number="79"><span class="co">#&gt; $ EnergyInBand17    &lt;dbl&gt; 0.0009670107, 0.0003838711, 0.0001869686, 0.0002577…</span></a>
<a class="sourceLine" id="cb15-80" data-line-number="80"><span class="co">#&gt; $ EnergyInBand17_5  &lt;dbl&gt; 7.238949e-04, 2.551550e-04, 1.233037e-04, 1.798092e…</span></a>
<a class="sourceLine" id="cb15-81" data-line-number="81"><span class="co">#&gt; $ EnergyInBand18    &lt;dbl&gt; 6.239341e-04, 2.274871e-04, 1.067191e-04, 1.603756e…</span></a>
<a class="sourceLine" id="cb15-82" data-line-number="82"><span class="co">#&gt; $ EnergyInBand18_5  &lt;dbl&gt; 0.0006323804, 0.0002707042, 0.0001176943, 0.0001797…</span></a>
<a class="sourceLine" id="cb15-83" data-line-number="83"><span class="co">#&gt; $ EnergyInBand19    &lt;dbl&gt; 4.139304e-04, 2.243252e-04, 8.588524e-05, 1.317428e…</span></a>
<a class="sourceLine" id="cb15-84" data-line-number="84"><span class="co">#&gt; $ EnergyInBand19_5  &lt;dbl&gt; 3.582399e-04, 2.496920e-04, 8.143258e-05, 1.246370e…</span></a>
<a class="sourceLine" id="cb15-85" data-line-number="85"><span class="co">#&gt; $ EnergyInBand20    &lt;dbl&gt; 4.009666e-04, 3.765962e-04, 9.924205e-05, 1.510301e…</span></a>
<a class="sourceLine" id="cb15-86" data-line-number="86"><span class="co">#&gt; $ EnergyInBand20_5  &lt;dbl&gt; 2.999909e-04, 3.754128e-04, 8.003894e-05, 1.209651e…</span></a>
<a class="sourceLine" id="cb15-87" data-line-number="87"><span class="co">#&gt; $ EnergyInBand21    &lt;dbl&gt; 0.0003639079, 0.0005592331, 0.0001044493, 0.0001566…</span></a>
<a class="sourceLine" id="cb15-88" data-line-number="88"><span class="co">#&gt; $ EnergyInBand21_5  &lt;dbl&gt; 2.904473e-04, 4.678044e-04, 9.009978e-05, 1.338254e…</span></a>
<a class="sourceLine" id="cb15-89" data-line-number="89"><span class="co">#&gt; $ EnergyInBand22    &lt;dbl&gt; 2.954305e-04, 4.273771e-04, 9.917380e-05, 1.452087e…</span></a>
<a class="sourceLine" id="cb15-90" data-line-number="90"><span class="co">#&gt; $ EnergyInBand22_5  &lt;dbl&gt; 3.803127e-04, 4.509144e-04, 1.413781e-04, 2.010759e…</span></a>
<a class="sourceLine" id="cb15-91" data-line-number="91"><span class="co">#&gt; $ EnergyInBand23    &lt;dbl&gt; 3.110677e-04, 3.073202e-04, 1.311629e-04, 1.771821e…</span></a>
<a class="sourceLine" id="cb15-92" data-line-number="92"><span class="co">#&gt; $ EnergyInBand23_5  &lt;dbl&gt; 3.087273e-04, 2.793785e-04, 1.504320e-04, 1.886193e…</span></a>
<a class="sourceLine" id="cb15-93" data-line-number="93"><span class="co">#&gt; $ EnergyInBand24    &lt;dbl&gt; 0.0003654592, 0.0003370882, 0.0002142283, 0.0002405…</span></a>
<a class="sourceLine" id="cb15-94" data-line-number="94"><span class="co">#&gt; $ EnergyInBand24_5  &lt;dbl&gt; 2.665060e-04, 2.779056e-04, 1.862718e-04, 1.854814e…</span></a></code></pre></div>
<p>As with most of the functions in <code>mhealthtools</code>, <code>get_balance_features</code> also comes with many options for input parameters for versatile data analysis</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">rest_tremor_features &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_balance_features.html">get_balance_features</a></span>(</a>
<a class="sourceLine" id="cb16-2" data-line-number="2">  <span class="dt">accelerometer_data =</span> rest_tremor_accelerometer_data,</a>
<a class="sourceLine" id="cb16-3" data-line-number="3">  <span class="dt">gyroscope_data =</span> rest_tremor_gyroscope_data,</a>
<a class="sourceLine" id="cb16-4" data-line-number="4">  <span class="dt">frequency_filter =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">3</span>,<span class="dv">15</span>),</a>
<a class="sourceLine" id="cb16-5" data-line-number="5">  <span class="dt">detrend =</span> T,</a>
<a class="sourceLine" id="cb16-6" data-line-number="6">  <span class="dt">IMF =</span> <span class="dv">4</span>,</a>
<a class="sourceLine" id="cb16-7" data-line-number="7">  <span class="dt">time_filter =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">2</span>,<span class="dv">8</span>),</a>
<a class="sourceLine" id="cb16-8" data-line-number="8">  <span class="dt">derived_kinematics =</span> T,</a>
<a class="sourceLine" id="cb16-9" data-line-number="9">  <span class="dt">window_length =</span> <span class="dv">256</span>,</a>
<a class="sourceLine" id="cb16-10" data-line-number="10">  <span class="dt">window_overlap =</span> <span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb16-11" data-line-number="11"><span class="co"># Consider the frequencies only from 3Hz to 15Hz</span></a>
<a class="sourceLine" id="cb16-12" data-line-number="12"><span class="co"># detrend using Loess</span></a>
<a class="sourceLine" id="cb16-13" data-line-number="13"><span class="co"># Max no. of IMFs = 4</span></a>
<a class="sourceLine" id="cb16-14" data-line-number="14"><span class="co"># Consider time between 2 and 8sec</span></a>
<a class="sourceLine" id="cb16-15" data-line-number="15"><span class="co"># derive kinematics for accelerometer and gyroscope. This would derive metrics like displacement, velocity, jerk and autocorrelation for accelerometer and gyrscope from their readings and then apply the feature extraction pipeline on each of these signals (i.e consider each derived metric as a independent input)</span></a>
<a class="sourceLine" id="cb16-16" data-line-number="16"><span class="co"># window length is 256 samples</span></a>
<a class="sourceLine" id="cb16-17" data-line-number="17"><span class="co"># 50% overlap between consecutive windows</span></a></code></pre></div>
<p>Please read the function documentation <code><a href="../reference/get_tremor_features.html">?get_tremor_features</a></code> for more info.</p>
</div>
<div id="kinetic-tremor-action-tremor" class="section level5">
<h5 class="hasAnchor">
<a href="#kinetic-tremor-action-tremor" class="anchor"></a>Kinetic tremor (Action tremor)</h5>
<p>In this activity, the participant is asked to hold the phone in their hand, and extend their hands to shoulder length and then touch their nose with their finger, and keep this motion in a loop.</p>
<p>The features extracted from <code>get_kinetic_tremor_features</code> do capture to some extent the effects of those symptoms. In the default processing, the signal is broken down into IMFs (Intrinsic Mode Functions) using the Hilbert Huang Transform before they are analyzed.</p>
<p><code>mhealthtools</code> comes with preloaded sample kinetic tremor data from the mpower study. Let’s take a look at the data before we proceed to analyze it.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(kinetic_tremor_data)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co">#&gt; Observations: 869</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co">#&gt; Variables: 6</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="co">#&gt; $ magneticField    &lt;df[,4]&gt; &lt;data.frame[26 x 4]&gt;</span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">#&gt; $ attitude         &lt;df[,4]&gt; &lt;data.frame[26 x 4]&gt;</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">#&gt; $ rotationRate     &lt;df[,3]&gt; &lt;data.frame[26 x 3]&gt;</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="co">#&gt; $ gravity          &lt;df[,3]&gt; &lt;data.frame[26 x 3]&gt;</span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">#&gt; $ timestamp        &lt;dbl&gt; 0.00000000, 0.01077800, 0.02155721, 0.03233629, 0.04…</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="co">#&gt; $ userAcceleration &lt;df[,3]&gt; &lt;data.frame[26 x 3]&gt;</span></a></code></pre></div>
<p>Let’s look at the accelerometer data – userAcceleration (plotting only the first ten seconds)</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2">a &lt;-<span class="st"> </span>kinetic_tremor_data<span class="op">$</span>userAcceleration</a>
<a class="sourceLine" id="cb18-3" data-line-number="3">a<span class="op">$</span>t &lt;-<span class="st"> </span>kinetic_tremor_data<span class="op">$</span>timestamp</a>
<a class="sourceLine" id="cb18-4" data-line-number="4">a &lt;-<span class="st"> </span>tidyr<span class="op">::</span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span>(a, <span class="st">'axis'</span> , <span class="st">'value'</span>, <span class="op">-</span>t)</a>
<a class="sourceLine" id="cb18-5" data-line-number="5">a &lt;-<span class="st"> </span>a <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(t<span class="op">&lt;</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(a, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> t, <span class="dt">y=</span> value)) <span class="op">+</span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="st">          </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb18-8" data-line-number="8"><span class="st">          </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(<span class="op">~</span>axis, <span class="dt">dir =</span> <span class="st">'v'</span>, <span class="dt">strip.position =</span> <span class="st">'right'</span>)</a></code></pre></div>
<p><img src="modules_files/figure-html/unnamed-chunk-17-1.png" width="768"></p>
<p>Let’s look at the gyroscope data – rotationRate (plotting only the first ten seconds)</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb19-2" data-line-number="2">a &lt;-<span class="st"> </span>kinetic_tremor_data<span class="op">$</span>rotationRate</a>
<a class="sourceLine" id="cb19-3" data-line-number="3">a<span class="op">$</span>t &lt;-<span class="st"> </span>kinetic_tremor_data<span class="op">$</span>timestamp</a>
<a class="sourceLine" id="cb19-4" data-line-number="4">a &lt;-<span class="st"> </span>tidyr<span class="op">::</span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span>(a, <span class="st">'axis'</span> , <span class="st">'value'</span>, <span class="op">-</span>t)</a>
<a class="sourceLine" id="cb19-5" data-line-number="5">a &lt;-<span class="st"> </span>a <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(t<span class="op">&lt;</span><span class="dv">10</span>)</a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(a, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> t, <span class="dt">y=</span> value)) <span class="op">+</span></a>
<a class="sourceLine" id="cb19-7" data-line-number="7"><span class="st">          </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb19-8" data-line-number="8"><span class="st">          </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(<span class="op">~</span>axis, <span class="dt">dir =</span> <span class="st">'v'</span>, <span class="dt">strip.position =</span> <span class="st">'right'</span>)</a></code></pre></div>
<p><img src="modules_files/figure-html/unnamed-chunk-18-1.png" width="768"></p>
<p>Let’s get the accelerometer and gyroscope data into the required format before we extract features from it using <code>get_kinetic_tremor_features</code>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1">kinetic_tremor_accelerometer_data &lt;-<span class="st"> </span>kinetic_tremor_data<span class="op">$</span>userAcceleration</a>
<a class="sourceLine" id="cb20-2" data-line-number="2">kinetic_tremor_accelerometer_data<span class="op">$</span>t &lt;-<span class="st"> </span>kinetic_tremor_data<span class="op">$</span>timestamp</a>
<a class="sourceLine" id="cb20-3" data-line-number="3"></a>
<a class="sourceLine" id="cb20-4" data-line-number="4">kinetic_tremor_gyroscope_data &lt;-<span class="st"> </span>kinetic_tremor_data<span class="op">$</span>rotationRate</a>
<a class="sourceLine" id="cb20-5" data-line-number="5">kinetic_tremor_gyroscope_data<span class="op">$</span>t &lt;-<span class="st"> </span>kinetic_tremor_data<span class="op">$</span>timestamp</a></code></pre></div>
<p>Now let’s get the kinetic tremor features.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1">kinetic_tremor_features &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_kinetic_tremor_features.html">get_kinetic_tremor_features</a></span>(</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">  <span class="dt">accelerometer_data =</span> kinetic_tremor_accelerometer_data,</a>
<a class="sourceLine" id="cb21-3" data-line-number="3">  <span class="dt">gyroscope_data =</span> kinetic_tremor_gyroscope_data)</a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="co"># Using the default settings</span></a></code></pre></div>
<p>The output file is a list similar to the <code>get_walk_features</code> described above. Let’s take a look at the default features</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1">dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(kinetic_tremor_features<span class="op">$</span>extracted_features)</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="co">#&gt; Observations: 60</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3"><span class="co">#&gt; Variables: 92</span></a>
<a class="sourceLine" id="cb22-4" data-line-number="4"><span class="co">#&gt; Groups: axis, IMF, window [30]</span></a>
<a class="sourceLine" id="cb22-5" data-line-number="5"><span class="co">#&gt; $ sensor            &lt;chr&gt; "accelerometer", "accelerometer", "accelerometer", …</span></a>
<a class="sourceLine" id="cb22-6" data-line-number="6"><span class="co">#&gt; $ measurementType   &lt;chr&gt; "acceleration", "acceleration", "acceleration", "ac…</span></a>
<a class="sourceLine" id="cb22-7" data-line-number="7"><span class="co">#&gt; $ axis              &lt;chr&gt; "x", "x", "x", "x", "x", "x", "x", "x", "x", "x", "…</span></a>
<a class="sourceLine" id="cb22-8" data-line-number="8"><span class="co">#&gt; $ IMF               &lt;int&gt; 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 2, 2, …</span></a>
<a class="sourceLine" id="cb22-9" data-line-number="9"><span class="co">#&gt; $ window            &lt;int&gt; 1, 2, 3, 4, 5, 1, 2, 3, 4, 5, 1, 2, 3, 4, 5, 1, 2, …</span></a>
<a class="sourceLine" id="cb22-10" data-line-number="10"><span class="co">#&gt; $ mean.tm           &lt;dbl&gt; 4.588782e-03, 1.894736e-03, 5.075942e-04, 1.786961e…</span></a>
<a class="sourceLine" id="cb22-11" data-line-number="11"><span class="co">#&gt; $ median.tm         &lt;dbl&gt; 9.715387e-04, 4.113025e-04, -1.889667e-04, -1.23156…</span></a>
<a class="sourceLine" id="cb22-12" data-line-number="12"><span class="co">#&gt; $ mode.tm           &lt;dbl&gt; -0.30431310, -0.30501499, -0.27514467, -0.17702909,…</span></a>
<a class="sourceLine" id="cb22-13" data-line-number="13"><span class="co">#&gt; $ mx.tm             &lt;dbl&gt; 0.29286878, 0.25455778, 0.27176977, 0.17278917, 0.2…</span></a>
<a class="sourceLine" id="cb22-14" data-line-number="14"><span class="co">#&gt; $ mn.tm             &lt;dbl&gt; -0.30431310, -0.30501499, -0.27514467, -0.17702909,…</span></a>
<a class="sourceLine" id="cb22-15" data-line-number="15"><span class="co">#&gt; $ sd.tm             &lt;dbl&gt; 0.067687755, 0.047095267, 0.058525351, 0.044594023,…</span></a>
<a class="sourceLine" id="cb22-16" data-line-number="16"><span class="co">#&gt; $ skewness.tm       &lt;dbl&gt; 0.11472576, -0.98956290, -0.52350178, -0.20471468, …</span></a>
<a class="sourceLine" id="cb22-17" data-line-number="17"><span class="co">#&gt; $ kurtosis.tm       &lt;dbl&gt; 6.943256, 16.802479, 6.368341, 5.100354, 11.754307,…</span></a>
<a class="sourceLine" id="cb22-18" data-line-number="18"><span class="co">#&gt; $ Q25.tm            &lt;dbl&gt; -0.007810083, -0.007358724, -0.006193483, -0.005458…</span></a>
<a class="sourceLine" id="cb22-19" data-line-number="19"><span class="co">#&gt; $ Q75.tm            &lt;dbl&gt; 0.011234051, 0.009050669, 0.006967522, 0.008220495,…</span></a>
<a class="sourceLine" id="cb22-20" data-line-number="20"><span class="co">#&gt; $ range.tm          &lt;dbl&gt; 0.59718188, 0.55957277, 0.54691444, 0.34981826, 0.6…</span></a>
<a class="sourceLine" id="cb22-21" data-line-number="21"><span class="co">#&gt; $ rough.tm          &lt;dbl&gt; 0.837234421, 0.775177262, 0.943607700, 0.389640106,…</span></a>
<a class="sourceLine" id="cb22-22" data-line-number="22"><span class="co">#&gt; $ rugo.tm           &lt;dbl&gt; 0.051599252, 0.043569632, 0.051618318, 0.035057159,…</span></a>
<a class="sourceLine" id="cb22-23" data-line-number="23"><span class="co">#&gt; $ energy.tm         &lt;dbl&gt; 1.173706788, 0.566499906, 0.873496234, 0.507108028,…</span></a>
<a class="sourceLine" id="cb22-24" data-line-number="24"><span class="co">#&gt; $ mobility.tm       &lt;dbl&gt; 70.94352, 86.09661, 82.08036, 73.16094, 88.87182, 3…</span></a>
<a class="sourceLine" id="cb22-25" data-line-number="25"><span class="co">#&gt; $ mtkeo.tm          &lt;dbl&gt; 3.697584e-03, 2.285464e-03, 3.492282e-03, 1.700699e…</span></a>
<a class="sourceLine" id="cb22-26" data-line-number="26"><span class="co">#&gt; $ dfa.tm            &lt;dbl&gt; 0.4680270, 0.4137038, 0.2858881, 0.2194309, 0.65883…</span></a>
<a class="sourceLine" id="cb22-27" data-line-number="27"><span class="co">#&gt; $ rmsmag.tm         &lt;dbl&gt; 0.067711093, 0.047041368, 0.058413138, 0.044507199,…</span></a>
<a class="sourceLine" id="cb22-28" data-line-number="28"><span class="co">#&gt; $ IQR.tm            &lt;dbl&gt; -0.019044134, -0.016409393, -0.013161005, -0.013678…</span></a>
<a class="sourceLine" id="cb22-29" data-line-number="29"><span class="co">#&gt; $ complexity.tm     &lt;dbl&gt; 103.34582, 117.76857, 109.67425, 103.76912, 140.131…</span></a>
<a class="sourceLine" id="cb22-30" data-line-number="30"><span class="co">#&gt; $ mn.fr             &lt;dbl&gt; 10.227458, 12.901197, 12.545599, 11.162614, 12.7605…</span></a>
<a class="sourceLine" id="cb22-31" data-line-number="31"><span class="co">#&gt; $ mx.fr             &lt;dbl&gt; 0.009578590, 0.010090728, 0.008708628, 0.013495548,…</span></a>
<a class="sourceLine" id="cb22-32" data-line-number="32"><span class="co">#&gt; $ sd.fr             &lt;dbl&gt; 6.390270, 7.783305, 6.454611, 5.899091, 10.692673, …</span></a>
<a class="sourceLine" id="cb22-33" data-line-number="33"><span class="co">#&gt; $ sem.fr            &lt;dbl&gt; 0.28578157, 0.34807998, 0.28865898, 0.26381539, 0.4…</span></a>
<a class="sourceLine" id="cb22-34" data-line-number="34"><span class="co">#&gt; $ md.fr             &lt;dbl&gt; 8.376030, 11.168040, 10.609638, 10.144303, 8.096829…</span></a>
<a class="sourceLine" id="cb22-35" data-line-number="35"><span class="co">#&gt; $ mod.fr            &lt;dbl&gt; 6.980025, 7.538427, 9.678968, 10.516571, 6.049355, …</span></a>
<a class="sourceLine" id="cb22-36" data-line-number="36"><span class="co">#&gt; $ Q25.fr            &lt;dbl&gt; 5.770154, 6.700824, 7.817628, 7.631494, 4.932551, 3…</span></a>
<a class="sourceLine" id="cb22-37" data-line-number="37"><span class="co">#&gt; $ Q75.fr            &lt;dbl&gt; 14.797653, 19.171802, 17.217395, 12.470978, 20.8470…</span></a>
<a class="sourceLine" id="cb22-38" data-line-number="38"><span class="co">#&gt; $ IQR.fr            &lt;dbl&gt; 9.027499, 12.470978, 9.399767, 4.839484, 15.914457,…</span></a>
<a class="sourceLine" id="cb22-39" data-line-number="39"><span class="co">#&gt; $ cent.fr           &lt;dbl&gt; 10.227458, 12.901197, 12.545599, 11.162614, 12.7605…</span></a>
<a class="sourceLine" id="cb22-40" data-line-number="40"><span class="co">#&gt; $ skew.fr           &lt;dbl&gt; 1.47594467, 1.36463496, 1.43320780, 1.97295417, 1.6…</span></a>
<a class="sourceLine" id="cb22-41" data-line-number="41"><span class="co">#&gt; $ kurt.fr           &lt;dbl&gt; 4.520034, 4.803422, 4.001430, 5.971428, 4.955794, 8…</span></a>
<a class="sourceLine" id="cb22-42" data-line-number="42"><span class="co">#&gt; $ sfm.fr            &lt;dbl&gt; 0.194795517, 0.321253681, 0.258230239, 0.269411518,…</span></a>
<a class="sourceLine" id="cb22-43" data-line-number="43"><span class="co">#&gt; $ sh.fr             &lt;dbl&gt; 0.8807859, 0.9049312, 0.8841601, 0.8484636, 0.93206…</span></a>
<a class="sourceLine" id="cb22-44" data-line-number="44"><span class="co">#&gt; $ ewt.permEnt.fr    &lt;dbl&gt; 0.44398708, 0.65726108, 0.64841606, 0.51018312, 0.5…</span></a>
<a class="sourceLine" id="cb22-45" data-line-number="45"><span class="co">#&gt; $ ewt.shannonEnt.fr &lt;dbl&gt; 0.44398708, 0.65726108, 0.64841606, 0.51018312, 0.5…</span></a>
<a class="sourceLine" id="cb22-46" data-line-number="46"><span class="co">#&gt; $ ewt.simpsonEnt.fr &lt;dbl&gt; 0.332678989, 0.619765966, 0.623612163, 0.493560418,…</span></a>
<a class="sourceLine" id="cb22-47" data-line-number="47"><span class="co">#&gt; $ ewt.renyiEnt.fr   &lt;dbl&gt; 0.291773583, 0.600811208, 0.607128227, 0.422725376,…</span></a>
<a class="sourceLine" id="cb22-48" data-line-number="48"><span class="co">#&gt; $ ewt.tsallisEnt.fr &lt;dbl&gt; 2.0938305, 3.0095538, 2.8952201, 2.8397043, 2.39010…</span></a>
<a class="sourceLine" id="cb22-49" data-line-number="49"><span class="co">#&gt; $ EnergyInBand1     &lt;dbl&gt; 0.0011189507, 0.0004951543, 0.0002294992, 0.0002154…</span></a>
<a class="sourceLine" id="cb22-50" data-line-number="50"><span class="co">#&gt; $ EnergyInBand1_5   &lt;dbl&gt; 0.0009687939, 0.0004993301, 0.0002060091, 0.0001952…</span></a>
<a class="sourceLine" id="cb22-51" data-line-number="51"><span class="co">#&gt; $ EnergyInBand2     &lt;dbl&gt; 0.0010642053, 0.0006571023, 0.0002372179, 0.0002276…</span></a>
<a class="sourceLine" id="cb22-52" data-line-number="52"><span class="co">#&gt; $ EnergyInBand2_5   &lt;dbl&gt; 0.0015085706, 0.0011683752, 0.0003611639, 0.0003533…</span></a>
<a class="sourceLine" id="cb22-53" data-line-number="53"><span class="co">#&gt; $ EnergyInBand3     &lt;dbl&gt; 0.0013949224, 0.0013229206, 0.0003670498, 0.0003683…</span></a>
<a class="sourceLine" id="cb22-54" data-line-number="54"><span class="co">#&gt; $ EnergyInBand3_5   &lt;dbl&gt; 0.0016135164, 0.0016850178, 0.0004749504, 0.0004915…</span></a>
<a class="sourceLine" id="cb22-55" data-line-number="55"><span class="co">#&gt; $ EnergyInBand4     &lt;dbl&gt; 0.0023890979, 0.0023822003, 0.0008230539, 0.0008896…</span></a>
<a class="sourceLine" id="cb22-56" data-line-number="56"><span class="co">#&gt; $ EnergyInBand4_5   &lt;dbl&gt; 0.0022641339, 0.0019300056, 0.0009418522, 0.0010699…</span></a>
<a class="sourceLine" id="cb22-57" data-line-number="57"><span class="co">#&gt; $ EnergyInBand5     &lt;dbl&gt; 0.0033198276, 0.0024034528, 0.0017128215, 0.0020361…</span></a>
<a class="sourceLine" id="cb22-58" data-line-number="58"><span class="co">#&gt; $ EnergyInBand5_5   &lt;dbl&gt; 0.0030442273, 0.0020338837, 0.0019325937, 0.0023234…</span></a>
<a class="sourceLine" id="cb22-59" data-line-number="59"><span class="co">#&gt; $ EnergyInBand6     &lt;dbl&gt; 0.0033398916, 0.0023252569, 0.0024619382, 0.0028312…</span></a>
<a class="sourceLine" id="cb22-60" data-line-number="60"><span class="co">#&gt; $ EnergyInBand6_5   &lt;dbl&gt; 0.0044141144, 0.0036419945, 0.0035854308, 0.0037561…</span></a>
<a class="sourceLine" id="cb22-61" data-line-number="61"><span class="co">#&gt; $ EnergyInBand7     &lt;dbl&gt; 0.0035374934, 0.0035908225, 0.0030279226, 0.0029128…</span></a>
<a class="sourceLine" id="cb22-62" data-line-number="62"><span class="co">#&gt; $ EnergyInBand7_5   &lt;dbl&gt; 0.0033699500, 0.0036304644, 0.0030432525, 0.0028169…</span></a>
<a class="sourceLine" id="cb22-63" data-line-number="63"><span class="co">#&gt; $ EnergyInBand8     &lt;dbl&gt; 0.0037994105, 0.0034536531, 0.0038127535, 0.0035604…</span></a>
<a class="sourceLine" id="cb22-64" data-line-number="64"><span class="co">#&gt; $ EnergyInBand8_5   &lt;dbl&gt; 0.0026332409, 0.0018159242, 0.0031067577, 0.0030847…</span></a>
<a class="sourceLine" id="cb22-65" data-line-number="65"><span class="co">#&gt; $ EnergyInBand9     &lt;dbl&gt; 0.0027771059, 0.0015317985, 0.0039972518, 0.0044786…</span></a>
<a class="sourceLine" id="cb22-66" data-line-number="66"><span class="co">#&gt; $ EnergyInBand9_5   &lt;dbl&gt; 0.0018518640, 0.0008977756, 0.0032346211, 0.0043019…</span></a>
<a class="sourceLine" id="cb22-67" data-line-number="67"><span class="co">#&gt; $ EnergyInBand10    &lt;dbl&gt; 0.0015709981, 0.0007378420, 0.0031164474, 0.0048924…</span></a>
<a class="sourceLine" id="cb22-68" data-line-number="68"><span class="co">#&gt; $ EnergyInBand10_5  &lt;dbl&gt; 0.0016567100, 0.0008121036, 0.0034684499, 0.0060623…</span></a>
<a class="sourceLine" id="cb22-69" data-line-number="69"><span class="co">#&gt; $ EnergyInBand11    &lt;dbl&gt; 0.0011373678, 0.0006203229, 0.0023068765, 0.0039738…</span></a>
<a class="sourceLine" id="cb22-70" data-line-number="70"><span class="co">#&gt; $ EnergyInBand11_5  &lt;dbl&gt; 1.010470e-03, 6.349578e-04, 1.887740e-03, 2.986592e…</span></a>
<a class="sourceLine" id="cb22-71" data-line-number="71"><span class="co">#&gt; $ EnergyInBand12    &lt;dbl&gt; 1.138323e-03, 8.656571e-04, 1.892108e-03, 2.693683e…</span></a>
<a class="sourceLine" id="cb22-72" data-line-number="72"><span class="co">#&gt; $ EnergyInBand12_5  &lt;dbl&gt; 8.442465e-04, 7.911988e-04, 1.241181e-03, 1.617227e…</span></a>
<a class="sourceLine" id="cb22-73" data-line-number="73"><span class="co">#&gt; $ EnergyInBand13    &lt;dbl&gt; 1.009647e-03, 1.158940e-03, 1.324310e-03, 1.621386e…</span></a>
<a class="sourceLine" id="cb22-74" data-line-number="74"><span class="co">#&gt; $ EnergyInBand13_5  &lt;dbl&gt; 7.965900e-04, 1.077437e-03, 9.443613e-04, 1.108482e…</span></a>
<a class="sourceLine" id="cb22-75" data-line-number="75"><span class="co">#&gt; $ EnergyInBand14    &lt;dbl&gt; 8.081213e-04, 1.192543e-03, 8.865824e-04, 1.014812e…</span></a>
<a class="sourceLine" id="cb22-76" data-line-number="76"><span class="co">#&gt; $ EnergyInBand14_5  &lt;dbl&gt; 1.055225e-03, 1.573523e-03, 1.081371e-03, 1.211459e…</span></a>
<a class="sourceLine" id="cb22-77" data-line-number="77"><span class="co">#&gt; $ EnergyInBand15    &lt;dbl&gt; 9.033277e-04, 1.260742e-03, 8.813971e-04, 9.614211e…</span></a>
<a class="sourceLine" id="cb22-78" data-line-number="78"><span class="co">#&gt; $ EnergyInBand15_5  &lt;dbl&gt; 9.757543e-04, 1.228575e-03, 9.286605e-04, 9.687333e…</span></a>
<a class="sourceLine" id="cb22-79" data-line-number="79"><span class="co">#&gt; $ EnergyInBand16    &lt;dbl&gt; 1.335278e-03, 1.485172e-03, 1.268734e-03, 1.201485e…</span></a>
<a class="sourceLine" id="cb22-80" data-line-number="80"><span class="co">#&gt; $ EnergyInBand16_5  &lt;dbl&gt; 1.157708e-03, 1.161928e-03, 1.130667e-03, 9.051774e…</span></a>
<a class="sourceLine" id="cb22-81" data-line-number="81"><span class="co">#&gt; $ EnergyInBand17    &lt;dbl&gt; 1.522696e-03, 1.449140e-03, 1.574066e-03, 9.840380e…</span></a>
<a class="sourceLine" id="cb22-82" data-line-number="82"><span class="co">#&gt; $ EnergyInBand17_5  &lt;dbl&gt; 1.228314e-03, 1.181669e-03, 1.366168e-03, 6.375236e…</span></a>
<a class="sourceLine" id="cb22-83" data-line-number="83"><span class="co">#&gt; $ EnergyInBand18    &lt;dbl&gt; 1.187362e-03, 1.226162e-03, 1.407653e-03, 5.069126e…</span></a>
<a class="sourceLine" id="cb22-84" data-line-number="84"><span class="co">#&gt; $ EnergyInBand18_5  &lt;dbl&gt; 1.378415e-03, 1.631753e-03, 1.713396e-03, 4.887581e…</span></a>
<a class="sourceLine" id="cb22-85" data-line-number="85"><span class="co">#&gt; $ EnergyInBand19    &lt;dbl&gt; 1.002273e-03, 1.419209e-03, 1.266948e-03, 3.058391e…</span></a>
<a class="sourceLine" id="cb22-86" data-line-number="86"><span class="co">#&gt; $ EnergyInBand19_5  &lt;dbl&gt; 9.140546e-04, 1.550917e-03, 1.146022e-03, 2.514397e…</span></a>
<a class="sourceLine" id="cb22-87" data-line-number="87"><span class="co">#&gt; $ EnergyInBand20    &lt;dbl&gt; 1.037203e-03, 2.120578e-03, 1.270551e-03, 2.629166e…</span></a>
<a class="sourceLine" id="cb22-88" data-line-number="88"><span class="co">#&gt; $ EnergyInBand20_5  &lt;dbl&gt; 7.586118e-04, 1.767555e-03, 9.056120e-04, 1.830043e…</span></a>
<a class="sourceLine" id="cb22-89" data-line-number="89"><span class="co">#&gt; $ EnergyInBand21    &lt;dbl&gt; 8.692043e-04, 2.084229e-03, 1.021678e-03, 2.078994e…</span></a>
<a class="sourceLine" id="cb22-90" data-line-number="90"><span class="co">#&gt; $ EnergyInBand21_5  &lt;dbl&gt; 6.310212e-04, 1.413695e-03, 7.465940e-04, 1.575200e…</span></a>
<a class="sourceLine" id="cb22-91" data-line-number="91"><span class="co">#&gt; $ EnergyInBand22    &lt;dbl&gt; 5.646879e-04, 1.143935e-03, 6.927258e-04, 1.556092e…</span></a>
<a class="sourceLine" id="cb22-92" data-line-number="92"><span class="co">#&gt; $ EnergyInBand22_5  &lt;dbl&gt; 6.008667e-04, 1.121604e-03, 7.988519e-04, 1.997959e…</span></a>
<a class="sourceLine" id="cb22-93" data-line-number="93"><span class="co">#&gt; $ EnergyInBand23    &lt;dbl&gt; 3.909443e-04, 7.248793e-04, 5.870405e-04, 1.706717e…</span></a>
<a class="sourceLine" id="cb22-94" data-line-number="94"><span class="co">#&gt; $ EnergyInBand23_5  &lt;dbl&gt; 3.129832e-04, 6.258781e-04, 5.396775e-04, 1.869241e…</span></a>
<a class="sourceLine" id="cb22-95" data-line-number="95"><span class="co">#&gt; $ EnergyInBand24    &lt;dbl&gt; 2.994599e-04, 7.028913e-04, 6.103164e-04, 2.647934e…</span></a>
<a class="sourceLine" id="cb22-96" data-line-number="96"><span class="co">#&gt; $ EnergyInBand24_5  &lt;dbl&gt; 1.816921e-04, 5.269557e-04, 4.395491e-04, 2.414309e…</span></a></code></pre></div>
<p>As with most of the functions in <code>mhealthtools</code>, <code>get_kinetic_tremor_features</code> also comes with many options for input parameters for versatile data analysis</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">kinetic_tremor_features &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_kinetic_tremor_features.html">get_kinetic_tremor_features</a></span>(</a>
<a class="sourceLine" id="cb23-2" data-line-number="2">  <span class="dt">accelerometer_data =</span> rest_tremor_accelerometer_data,</a>
<a class="sourceLine" id="cb23-3" data-line-number="3">  <span class="dt">gyroscope_data =</span> rest_tremor_gyroscope_data,</a>
<a class="sourceLine" id="cb23-4" data-line-number="4">  <span class="dt">frequency_filter =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">3</span>,<span class="dv">15</span>),</a>
<a class="sourceLine" id="cb23-5" data-line-number="5">  <span class="dt">detrend =</span> T,</a>
<a class="sourceLine" id="cb23-6" data-line-number="6">  <span class="dt">IMF =</span> <span class="dv">4</span>,</a>
<a class="sourceLine" id="cb23-7" data-line-number="7">  <span class="dt">time_filter =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">2</span>,<span class="dv">8</span>),</a>
<a class="sourceLine" id="cb23-8" data-line-number="8">  <span class="dt">derived_kinematics =</span> T,</a>
<a class="sourceLine" id="cb23-9" data-line-number="9">  <span class="dt">window_length =</span> <span class="dv">256</span>,</a>
<a class="sourceLine" id="cb23-10" data-line-number="10">  <span class="dt">window_overlap =</span> <span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb23-11" data-line-number="11"><span class="co"># Consider the frequencies only from 3Hz to 15Hz</span></a>
<a class="sourceLine" id="cb23-12" data-line-number="12"><span class="co"># detrend using Loess</span></a>
<a class="sourceLine" id="cb23-13" data-line-number="13"><span class="co"># Max no. of IMFs = 4</span></a>
<a class="sourceLine" id="cb23-14" data-line-number="14"><span class="co"># Consider time between 2 and 8sec</span></a>
<a class="sourceLine" id="cb23-15" data-line-number="15"><span class="co"># derive kinematics for accelerometer and gyroscope. This would derive metrics like displacement, velocity, jerk and autocorrelation for accelerometer and gyrscope from their readings and then apply the feature extraction pipeline on each of these signals (i.e consider each derived metric as a independent input)</span></a>
<a class="sourceLine" id="cb23-16" data-line-number="16"><span class="co"># window length is 256 samples</span></a>
<a class="sourceLine" id="cb23-17" data-line-number="17"><span class="co"># 50% overlap between consecutive windows</span></a></code></pre></div>
<p>Please read the function documentation <code><a href="../reference/get_kinetic_tremor_features.html">?get_kinetic_tremor_features</a></code> for more info.</p>
</div>
</div>
<div id="tapping-module-touchscreen" class="section level3">
<h3 class="hasAnchor">
<a href="#tapping-module-touchscreen" class="anchor"></a>Tapping Module (Touchscreen)</h3>
<p>In this activity, the participant is asked to tap the screen with their middle and pointing finger alternatingly as fast as they can for 30s (with one hand first, and if possible the other hand too). For people having Parkinson’s they might not be able to tap as fast as a normal person, and also they might show higher fatigue (slower tap rate) at the end of the activity than a normal person.</p>
<p>Features extracted from <code>get_tapping_features</code> of <code>mhealthtools</code> try to address these symptoms.</p>
<p><code>mhealthtools</code> comes with preloaded sample tapping data from the mpower study. Let’s take a look at the data before we proceed to analyze it.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(tap_data)</a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="co">#&gt;           t        x        y          buttonid</span></a>
<a class="sourceLine" id="cb24-3" data-line-number="3"><span class="co">#&gt; 1 0.0000000 113.6667 430.0000  TappedButtonLeft</span></a>
<a class="sourceLine" id="cb24-4" data-line-number="4"><span class="co">#&gt; 2 0.2859390 114.0000 431.3333  TappedButtonLeft</span></a>
<a class="sourceLine" id="cb24-5" data-line-number="5"><span class="co">#&gt; 3 0.2512511 270.6667 410.3333 TappedButtonRight</span></a>
<a class="sourceLine" id="cb24-6" data-line-number="6"><span class="co">#&gt; 4 0.4692436 253.0000 405.0000 TappedButtonRight</span></a>
<a class="sourceLine" id="cb24-7" data-line-number="7"><span class="co">#&gt; 5 0.5692102 110.6667 428.6667  TappedButtonLeft</span></a>
<a class="sourceLine" id="cb24-8" data-line-number="8"><span class="co">#&gt; 6 0.7179170 114.3333 427.6667  TappedButtonLeft</span></a></code></pre></div>
<p>Let’s look at a plot of the <code>x</code> and <code>y</code> co-ordinates of the tap data against <code>t</code></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">a &lt;-<span class="st"> </span>tap_data</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">a &lt;-<span class="st"> </span>tidyr<span class="op">::</span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span>(a <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="op">-</span>buttonid), <span class="st">'axis'</span> , <span class="st">'value'</span>, <span class="op">-</span>t)</a>
<a class="sourceLine" id="cb25-4" data-line-number="4"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(a, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> t, <span class="dt">y=</span> value)) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>() <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(<span class="op">~</span>axis, <span class="dt">dir =</span> <span class="st">'v'</span>, <span class="dt">strip.position =</span> <span class="st">'right'</span>)</a></code></pre></div>
<p><img src="modules_files/figure-html/unnamed-chunk-24-1.png" width="768"></p>
<p>Extracting features using the default pipeline</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1">tap_features &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_tapping_features.html">get_tapping_features</a></span>(tap_data)</a>
<a class="sourceLine" id="cb26-2" data-line-number="2"><span class="co"># Using the default settings</span></a>
<a class="sourceLine" id="cb26-3" data-line-number="3"></a>
<a class="sourceLine" id="cb26-4" data-line-number="4">dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(tap_features)</a>
<a class="sourceLine" id="cb26-5" data-line-number="5"><span class="co">#&gt; Observations: 1</span></a>
<a class="sourceLine" id="cb26-6" data-line-number="6"><span class="co">#&gt; Variables: 43</span></a>
<a class="sourceLine" id="cb26-7" data-line-number="7"><span class="co">#&gt; $ meanTapInter      &lt;dbl&gt; 0.1176641</span></a>
<a class="sourceLine" id="cb26-8" data-line-number="8"><span class="co">#&gt; $ medianTapInter    &lt;dbl&gt; 0.1000836</span></a>
<a class="sourceLine" id="cb26-9" data-line-number="9"><span class="co">#&gt; $ iqrTapInter       &lt;dbl&gt; 0.04882604</span></a>
<a class="sourceLine" id="cb26-10" data-line-number="10"><span class="co">#&gt; $ minTapInter       &lt;dbl&gt; 0</span></a>
<a class="sourceLine" id="cb26-11" data-line-number="11"><span class="co">#&gt; $ maxTapInter       &lt;dbl&gt; 0.83367</span></a>
<a class="sourceLine" id="cb26-12" data-line-number="12"><span class="co">#&gt; $ skewTapInter      &lt;dbl&gt; 4.744446</span></a>
<a class="sourceLine" id="cb26-13" data-line-number="13"><span class="co">#&gt; $ kurTapInter       &lt;dbl&gt; 32.62327</span></a>
<a class="sourceLine" id="cb26-14" data-line-number="14"><span class="co">#&gt; $ sdTapInter        &lt;dbl&gt; 0.08468336</span></a>
<a class="sourceLine" id="cb26-15" data-line-number="15"><span class="co">#&gt; $ madTapInter       &lt;dbl&gt; 0.02672405</span></a>
<a class="sourceLine" id="cb26-16" data-line-number="16"><span class="co">#&gt; $ cvTapInter        &lt;dbl&gt; 71.97043</span></a>
<a class="sourceLine" id="cb26-17" data-line-number="17"><span class="co">#&gt; $ rangeTapInter     &lt;dbl&gt; 0.83367</span></a>
<a class="sourceLine" id="cb26-18" data-line-number="18"><span class="co">#&gt; $ tkeoTapInter      &lt;dbl&gt; 0.006115863</span></a>
<a class="sourceLine" id="cb26-19" data-line-number="19"><span class="co">#&gt; $ ar1TapInter       &lt;dbl&gt; -0.07698624</span></a>
<a class="sourceLine" id="cb26-20" data-line-number="20"><span class="co">#&gt; $ ar2TapInter       &lt;dbl&gt; 0.1096565</span></a>
<a class="sourceLine" id="cb26-21" data-line-number="21"><span class="co">#&gt; $ fatigue10TapInter &lt;dbl&gt; 0.02748639</span></a>
<a class="sourceLine" id="cb26-22" data-line-number="22"><span class="co">#&gt; $ fatigue25TapInter &lt;dbl&gt; -0.004042332</span></a>
<a class="sourceLine" id="cb26-23" data-line-number="23"><span class="co">#&gt; $ fatigue50TapInter &lt;dbl&gt; 0.003532649</span></a>
<a class="sourceLine" id="cb26-24" data-line-number="24"><span class="co">#&gt; $ meanDriftLeft     &lt;dbl&gt; 9.570603</span></a>
<a class="sourceLine" id="cb26-25" data-line-number="25"><span class="co">#&gt; $ medianDriftLeft   &lt;dbl&gt; 8.825471</span></a>
<a class="sourceLine" id="cb26-26" data-line-number="26"><span class="co">#&gt; $ iqrDriftLeft      &lt;dbl&gt; 6.559825</span></a>
<a class="sourceLine" id="cb26-27" data-line-number="27"><span class="co">#&gt; $ minDriftLeft      &lt;dbl&gt; 1</span></a>
<a class="sourceLine" id="cb26-28" data-line-number="28"><span class="co">#&gt; $ maxDriftLeft      &lt;dbl&gt; 22.96133</span></a>
<a class="sourceLine" id="cb26-29" data-line-number="29"><span class="co">#&gt; $ skewDriftLeft     &lt;dbl&gt; 0.629874</span></a>
<a class="sourceLine" id="cb26-30" data-line-number="30"><span class="co">#&gt; $ kurDriftLeft      &lt;dbl&gt; -0.2276451</span></a>
<a class="sourceLine" id="cb26-31" data-line-number="31"><span class="co">#&gt; $ sdDriftLeft       &lt;dbl&gt; 5.375913</span></a>
<a class="sourceLine" id="cb26-32" data-line-number="32"><span class="co">#&gt; $ madDriftLeft      &lt;dbl&gt; 4.904172</span></a>
<a class="sourceLine" id="cb26-33" data-line-number="33"><span class="co">#&gt; $ cvDriftLeft       &lt;dbl&gt; 56.1711</span></a>
<a class="sourceLine" id="cb26-34" data-line-number="34"><span class="co">#&gt; $ rangeDriftLeft    &lt;dbl&gt; 21.96133</span></a>
<a class="sourceLine" id="cb26-35" data-line-number="35"><span class="co">#&gt; $ meanDriftRight    &lt;dbl&gt; 9.701176</span></a>
<a class="sourceLine" id="cb26-36" data-line-number="36"><span class="co">#&gt; $ medianDriftRight  &lt;dbl&gt; 7.80313</span></a>
<a class="sourceLine" id="cb26-37" data-line-number="37"><span class="co">#&gt; $ iqrDriftRight     &lt;dbl&gt; 6.160384</span></a>
<a class="sourceLine" id="cb26-38" data-line-number="38"><span class="co">#&gt; $ minDriftRight     &lt;dbl&gt; 0</span></a>
<a class="sourceLine" id="cb26-39" data-line-number="39"><span class="co">#&gt; $ maxDriftRight     &lt;dbl&gt; 38.66667</span></a>
<a class="sourceLine" id="cb26-40" data-line-number="40"><span class="co">#&gt; $ skewDriftRight    &lt;dbl&gt; 1.617529</span></a>
<a class="sourceLine" id="cb26-41" data-line-number="41"><span class="co">#&gt; $ kurDriftRight     &lt;dbl&gt; 3.541864</span></a>
<a class="sourceLine" id="cb26-42" data-line-number="42"><span class="co">#&gt; $ sdDriftRight      &lt;dbl&gt; 6.656907</span></a>
<a class="sourceLine" id="cb26-43" data-line-number="43"><span class="co">#&gt; $ madDriftRight     &lt;dbl&gt; 4.314831</span></a>
<a class="sourceLine" id="cb26-44" data-line-number="44"><span class="co">#&gt; $ cvDriftRight      &lt;dbl&gt; 68.61958</span></a>
<a class="sourceLine" id="cb26-45" data-line-number="45"><span class="co">#&gt; $ rangeDriftRight   &lt;dbl&gt; 38.66667</span></a>
<a class="sourceLine" id="cb26-46" data-line-number="46"><span class="co">#&gt; $ numberTaps        &lt;int&gt; 172</span></a>
<a class="sourceLine" id="cb26-47" data-line-number="47"><span class="co">#&gt; $ buttonNoneFreq    &lt;dbl&gt; 0.08139535</span></a>
<a class="sourceLine" id="cb26-48" data-line-number="48"><span class="co">#&gt; $ corXY             &lt;dbl&gt; -0.647522</span></a>
<a class="sourceLine" id="cb26-49" data-line-number="49"><span class="co">#&gt; $ error             &lt;chr&gt; "None"</span></a></code></pre></div>
<p>As with most of the functions in <code>mhealthtools</code>, <code>get_tapping_features</code> also comes with options input parameters for versatile data analysis.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">tap_features &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_tapping_features.html">get_tapping_features</a></span>(tap_data, <span class="dt">depress_threshold =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="co"># Changing the threshold for intertap distance in x-axis, depress_threshold to 10 (default is 20)</span></a></code></pre></div>
<p>Please read the function documentation <code><a href="../reference/get_tapping_features.html">?get_tapping_features</a></code> for more info.</p>
</div>
<div id="heartrate-module-camera" class="section level3">
<h3 class="hasAnchor">
<a href="#heartrate-module-camera" class="anchor"></a>Heartrate Module (Camera)</h3>
<p>In this activity, the participant is asked to place their finger over their smartphone camera and from the average pixel intensity across frames, we estimate the heartrate of the participant.</p>
<p>To use the fucntion <code>get_heartrate</code> of <code>mhealthtools</code> the data needs to be in a certain format, fortunately the package comes preloaded with sampledata <code>heartrate_data</code>, let’s take a look at it</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(heartrate_data)</a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="co">#&gt;           t        red        green         blue</span></a>
<a class="sourceLine" id="cb28-3" data-line-number="3"><span class="co">#&gt; 1 0.0000000 0.00000000 0.000000e+00 0.0000000000</span></a>
<a class="sourceLine" id="cb28-4" data-line-number="4"><span class="co">#&gt; 2 0.4364297 0.06898137 5.446623e-06 0.0002735793</span></a>
<a class="sourceLine" id="cb28-5" data-line-number="5"><span class="co">#&gt; 3 0.4531086 0.41624671 4.368578e-02 0.0933518292</span></a>
<a class="sourceLine" id="cb28-6" data-line-number="6"><span class="co">#&gt; 4 0.4697877 0.95362598 4.329034e-01 0.4169012119</span></a>
<a class="sourceLine" id="cb28-7" data-line-number="7"><span class="co">#&gt; 5 0.4864664 0.95779219 4.960225e-01 0.4276880220</span></a>
<a class="sourceLine" id="cb28-8" data-line-number="8"><span class="co">#&gt; 6 0.5031324 0.64650077 2.204373e-02 0.1584749455</span></a></code></pre></div>
<p>Let’s look at the mean centered <code>red</code>, <code>blue</code> and <code>green</code> columns of the heartrate data against <code>t</code> (plotting only the time between 2 and 10 seconds). Mean centering because otherwise it would be diffcult to compare the y-axis across plots.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggplot2)</a>
<a class="sourceLine" id="cb29-2" data-line-number="2">a &lt;-<span class="st"> </span>heartrate_data <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(t, red,blue,green)</a>
<a class="sourceLine" id="cb29-3" data-line-number="3">a<span class="op">$</span>red &lt;-<span class="st"> </span>a<span class="op">$</span>red <span class="op">-</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(a<span class="op">$</span>red, <span class="dt">na.rm =</span> T)</a>
<a class="sourceLine" id="cb29-4" data-line-number="4">a<span class="op">$</span>green &lt;-<span class="st"> </span>a<span class="op">$</span>green <span class="op">-</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(a<span class="op">$</span>green, <span class="dt">na.rm =</span> T)</a>
<a class="sourceLine" id="cb29-5" data-line-number="5">a<span class="op">$</span>blue &lt;-<span class="st"> </span>a<span class="op">$</span>blue <span class="op">-</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/mean.html">mean</a></span>(a<span class="op">$</span>blue, <span class="dt">na.rm =</span> T)</a>
<a class="sourceLine" id="cb29-6" data-line-number="6">a &lt;-<span class="st"> </span>a <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(t, <span class="dt">red_centered =</span> red, <span class="dt">green_centered =</span> green, </a>
<a class="sourceLine" id="cb29-7" data-line-number="7">                         <span class="dt">blue_centered =</span> blue)</a>
<a class="sourceLine" id="cb29-8" data-line-number="8">a &lt;-<span class="st"> </span>tidyr<span class="op">::</span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span>(a, <span class="st">'axis'</span> , <span class="st">'value'</span>, <span class="op">-</span>t)</a>
<a class="sourceLine" id="cb29-9" data-line-number="9">a &lt;-<span class="st"> </span>a <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span>(t<span class="op">&lt;</span><span class="dv">10</span>, t<span class="op">&gt;</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb29-10" data-line-number="10"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span>(a, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span>(<span class="dt">x =</span> t, <span class="dt">y=</span> value)) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span>()<span class="op">+</span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span>(<span class="op">~</span>axis)</a></code></pre></div>
<p><img src="modules_files/figure-html/unnamed-chunk-28-1.png" width="768"></p>
<p>Now to extract the heartrate, we just pass the formatted data into <code>get_heartrate</code> which outputs a list containing estimated heartrates for the three channels: red, blue and green, the sampling rate and an error status.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1">hr_values &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_heartrate.html">get_heartrate</a></span>(heartrate_data)</a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="co"># Using the default settings, a window of 10s, 50% overlap between consecutive windows,</span></a>
<a class="sourceLine" id="cb30-3" data-line-number="3"><span class="co"># and autocorrelation based algorithm for the heartrate estimation and the appropriate</span></a>
<a class="sourceLine" id="cb30-4" data-line-number="4"><span class="co"># pre-processing</span></a></code></pre></div>
<p>The output is a list containing heartrate estimates from red, green and blue channels, and error and calculated sampling rate. Only the ‘acf’ method will output confidence values for the estimated heart rate.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1">dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(hr_values)</a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="co">#&gt; List of 5</span></a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="co">#&gt;  $ red          :'data.frame':   10 obs. of  2 variables:</span></a>
<a class="sourceLine" id="cb31-4" data-line-number="4"><span class="co">#&gt;   ..$ hr        : num [1:10] 85.1 87.2 87.2 89.4 91.7 ...</span></a>
<a class="sourceLine" id="cb31-5" data-line-number="5"><span class="co">#&gt;   ..$ confidence: num [1:10] 0.846 0.858 0.838 0.892 0.915 ...</span></a>
<a class="sourceLine" id="cb31-6" data-line-number="6"><span class="co">#&gt;  $ green        :'data.frame':   10 obs. of  2 variables:</span></a>
<a class="sourceLine" id="cb31-7" data-line-number="7"><span class="co">#&gt;   ..$ hr        : num [1:10] 87.2 87.2 87.2 89.4 91.7 ...</span></a>
<a class="sourceLine" id="cb31-8" data-line-number="8"><span class="co">#&gt;   ..$ confidence: num [1:10] 0.844 0.838 0.832 0.883 0.884 ...</span></a>
<a class="sourceLine" id="cb31-9" data-line-number="9"><span class="co">#&gt;  $ blue         :'data.frame':   10 obs. of  2 variables:</span></a>
<a class="sourceLine" id="cb31-10" data-line-number="10"><span class="co">#&gt;   ..$ hr        : num [1:10] 85.1 87.2 87.2 89.4 91.7 ...</span></a>
<a class="sourceLine" id="cb31-11" data-line-number="11"><span class="co">#&gt;   ..$ confidence: num [1:10] 0.854 0.855 0.811 0.857 0.89 ...</span></a>
<a class="sourceLine" id="cb31-12" data-line-number="12"><span class="co">#&gt;  $ error        : chr "none"</span></a>
<a class="sourceLine" id="cb31-13" data-line-number="13"><span class="co">#&gt;  $ sampling_rate: num 59.6</span></a></code></pre></div>
<p>As with most of the functions in <code>mhealthtools</code>, <code>get_heartrate</code> also comes with many options for input parameters for versatile data analysis.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1">hr_values &lt;-<span class="st"> </span><span class="kw"><a href="../reference/get_heartrate.html">get_heartrate</a></span>(heartrate_data,</a>
<a class="sourceLine" id="cb32-2" data-line-number="2">                           <span class="dt">window_length =</span> <span class="dv">8</span>, </a>
<a class="sourceLine" id="cb32-3" data-line-number="3">                           <span class="dt">window_overlap =</span> <span class="fl">0.5</span>,</a>
<a class="sourceLine" id="cb32-4" data-line-number="4">                           <span class="dt">method =</span> <span class="st">'peak'</span>)</a>
<a class="sourceLine" id="cb32-5" data-line-number="5"><span class="co"># Using 8s windows, with a 50% overlap, and uses the autocorrelation method to find HR </span></a>
<a class="sourceLine" id="cb32-6" data-line-number="6"><span class="co"># Defaults are 10s windows, 50% overlap and acf method</span></a></code></pre></div>
<p>The output is a list containing heartrate estimates from red, green and blue channels, and error and calculated sampling rate. The ‘psd’ (power spectral density) and ‘peak’ (peak picking based algorithm) don’t have any confidence value associated with the estimated heart rate, so will output NA for confidence values</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1">dplyr<span class="op">::</span><span class="kw"><a href="https://dplyr.tidyverse.org/reference/reexports.html">glimpse</a></span>(hr_values)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="co">#&gt; List of 5</span></a>
<a class="sourceLine" id="cb33-3" data-line-number="3"><span class="co">#&gt;  $ red          :'data.frame':   13 obs. of  2 variables:</span></a>
<a class="sourceLine" id="cb33-4" data-line-number="4"><span class="co">#&gt;   ..$ hr        : num [1:13] 84.5 86.2 85.3 88 89.2 ...</span></a>
<a class="sourceLine" id="cb33-5" data-line-number="5"><span class="co">#&gt;   ..$ confidence: num [1:13] NA NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb33-6" data-line-number="6"><span class="co">#&gt;  $ green        :'data.frame':   13 obs. of  2 variables:</span></a>
<a class="sourceLine" id="cb33-7" data-line-number="7"><span class="co">#&gt;   ..$ hr        : num [1:13] 102 131 136 128 156 ...</span></a>
<a class="sourceLine" id="cb33-8" data-line-number="8"><span class="co">#&gt;   ..$ confidence: num [1:13] NA NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb33-9" data-line-number="9"><span class="co">#&gt;  $ blue         :'data.frame':   13 obs. of  2 variables:</span></a>
<a class="sourceLine" id="cb33-10" data-line-number="10"><span class="co">#&gt;   ..$ hr        : num [1:13] 84.7 86.2 85.1 88 89.4 ...</span></a>
<a class="sourceLine" id="cb33-11" data-line-number="11"><span class="co">#&gt;   ..$ confidence: num [1:13] NA NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb33-12" data-line-number="12"><span class="co">#&gt;  $ error        : chr "none"</span></a>
<a class="sourceLine" id="cb33-13" data-line-number="13"><span class="co">#&gt;  $ sampling_rate: num 59.6</span></a></code></pre></div>
<p>Please read the function documentation <code><a href="../reference/get_heartrate.html">?get_heartrate</a></code> for more info.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Phil Snyder, Thanneer Perumal, Meghasyam Tummalacherla.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
